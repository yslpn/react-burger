{"version":3,"sources":["components/app/app.module.css","components/modal-overlay/modal-overlay.module.css","components/ingredient-details/ingredient-details.module.css","pages/profile/profile.module.css","components/order-info/order-info.module.css","components/burger-ingredients/burger-ingredients.module.css","pages/forgot-password/forgot-password.module.css","components/feed-item/feed-item.module.css","images/logo.svg","components/app-header/app-header.tsx","services/hooks.ts","components/protected-route/protected-route.tsx","components/logged-route/logged-route.tsx","utils/constants.ts","utils/cookie.ts","services/api.ts","services/actions/login.ts","pages/login/login.tsx","services/actions/modal.ts","components/modal-overlay/modal-overlay.tsx","components/modal/modal.tsx","images/done.svg","components/order-details/order-details.tsx","services/actions/order.ts","components/burger-constructor/burger-constructor.tsx","components/burger-ingredient/burger-ingredient.tsx","components/burger-ingredients/burger-ingredients.tsx","pages/main/main.tsx","pages/404-not-found/404-not-found.tsx","pages/register/register.tsx","components/user-profile/user-profile.tsx","components/profile-nav/profile-nav.tsx","pages/profile/profile.tsx","pages/forgot-password/forgot-password.tsx","utils/formate-date.ts","components/feed-item/feed-item.tsx","services/actions/ws.ts","pages/orders/orders.tsx","components/ingredient-details/ingredient-details.tsx","pages/igredient/igredient.tsx","components/orders-table/orders-table.tsx","pages/feed/feed.tsx","components/order-info/order-info.tsx","pages/order/order.tsx","services/actions/ingredients.ts","components/app/app.tsx","reportWebVitals.ts","services/reducers/ingredients.ts","services/reducers/modal.ts","services/reducers/order.ts","services/reducers/login.ts","services/reducers/ws.ts","services/reducers/index.ts","services/middleware/ws-middleware.ts","index.tsx","components/app-header/app-header.module.css","components/orders-table/orders-table.module.css","pages/login/login.module.css","components/burger-constructor/burger-constructor.module.css","components/profile-nav/profile-nav.module.css","pages/feed/feed.module.css","components/order-details/order-details.module.css","pages/main/main.module.css","pages/register/register.module.css","components/burger-ingredient/burger-ingredient.module.css","pages/orders/orders.module.css","components/modal/modal.module.css","components/user-profile/user-profile.module.css"],"names":["module","exports","AppHeader","className","styles","header","to","activeClassName","exact","src","mobileLogo","alt","type","size","useAppDispatch","useDispatch","useAppSelector","useSelector","ProtectedRoute","children","rest","userLogged","store","login","render","location","pathname","state","from","LoggedRoute","useLocation","apiURL","setCookie","name","value","props","exp","expires","d","Date","setTime","getTime","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","document","cookie","getCookie","matches","match","RegExp","replace","decodeURIComponent","undefined","loginRequest","formData","a","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","then","res","json","accessToken","catch","err","console","log","Promise","reject","logoutRequest","token","localStorage","getItem","registerRequest","getUserRequest","authorization","updateUserRequest","forgotPassRequest","email","newPassRequest","refreshTokenRequest","after","args","refreshToken","success","setItem","LOGIN_USER","LOGOUT_USER","REGISTRATION_USER_SUCCESS","updateUser","dispatch","user","message","LoginPage","useState","password","setFormData","onChange","e","target","passwordRef","useRef","emailRef","useEffect","current","setAttribute","isShowPass","setPass","wrapper","form","onSubmit","preventDefault","alert","heading","ref","placeholder","onIconClick","icon","button","text","link","OPEN_MODAL","CLOSE_MODAL","LOADING_MODAL","ModalOverlay","history","useHistory","node","React","modalRoot","getElementById","closeWithEscape","key","goBack","style","overflow","addEventListener","removeEventListener","ReactDOM","createPortal","overlay","onClick","closeWithClick","Modal","modal","OrderDetails","orderDetails","order","number","done","width","height","ADD_ITEM_TO_ORDER","REMOVE_ITEM_FROM_ORDER","CLEAR_ORDER_ITEMS","ADD_FULL_ORDER_LIST","sendResource","url","data","response","ok","Error","status","error","GetBurgerElem","elem","index","lock","position","moveIngredient","useDrop","accept","hover","item","monitor","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","drop","useDrag","collect","isDragging","opacity","drag","burger__item","thumbnail","image_mobile","isLocked","price","handleClose","orderItems","ingredient","delElem","BurgerConstructor","modalIsOpened","modalIsLoading","ingredientsData","ingredients","amount","setAmount","dragIngredient","newOrderItems","splice","itemId","find","i","_id","map","dropToCart","isDragOver","isOver","dropTarget","border","reduce","acc","burger","burger__head","burger__list","burger__footer","burger__order","burger__amount","bun","sendData","push","loading","BurgerIngredient","memo","isDrag","dragRef","__v","count","ingredient__image","image","ingredient__price","ingredient__name","BurgerIngredients","ingredientsRequest","ingredientsFailed","setCurrent","scrollContainerRef","buns","sauces","toppings","scrollOptions","block","behavior","scrollTo","scrollIntoView","ingredients__tabs","active","ingredients__content","onScroll","scrollContainerPosition","firstHeaderPosition","secondHeaderPosition","thirdHeaderPosition","firstDiff","Math","abs","secondDiff","thirdDiff","ingredients__head","ingredients__items","ingredientDetails","background","textDecoration","MainPage","container","head","DndProvider","backend","HTML5Backend","NotFoundPage","RegPage","regUserSuccess","register","UserProfile","isChanged","setChanged","usernameRef","user_info","ProfileNav","nav","removeItem","logout","ProfilePage","ForgotPassPage","setEmail","isVerification","setVerification","hasError","setHasError","errorMessage","setErrorMessage","hasSuccess","setHasSuccess","onChangePass","onSubmitReset","resultData","rowDate","formattedDate","toLocaleString","hour","minute","timeZoneName","date","today","setHours","dayDiff","valueOf","setDay","FeedItem","createdAt","filteredIngredients","element","prevValue","order_item","time","title","color","list_wrapper","ingredinet","length","more","img","price__wrapper","WS_CONNECTION_SUCCESS","WS_CONNECTION_ERROR","WS_CONNECTION_CLOSED","WS_CONNECTION_START","WS_USER_CONNECTION_START","WS_SEND_MESSAGE","WS_CONNECTION_GET_FEED_ORDERS","WS_CONNECTION_GET_USER_ORDERS","wsConnectionClosed","OrdersPage","ingredientsRequestSuccess","profileOrders","ws","profileOrdersSuccess","main__content","main__feed_list","list__item","IngredientDetails","id","useParams","currentIngredient","details","image_large","calories","proteins","fat","carbohydrates","IngredientPage","OrdersTable","feedOrders","total","totalToday","doneItems","filter","pendingItems","status_block","column","items","total_block","FeedPage","main__contents","OrderInfo","action","currentItem","parseInt","compound","ingredient_item","rel","ingredient_link","ingredient_img","ingredient_name","price_wrapper","footer","OrderPage","feedOrdersSuccess","GET_INGREDIENTS","GET_INGREDIENTS_FAILED","GET_INGREDIENTS_SUCCESS","INCREASE_COUNTER","DECREASE_COUNTER","RESET_COUNTER","App","getUser","main","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","resetCounters","changeCounter","option","wsConnected","sortingByDate","b","rootReducer","combineReducers","removeItemOnce","arr","indexOf","payload","orders","sort","wsMiddleware","actions","socket","next","wsInit","wsInitProfile","wsSendMessage","onOpen","onClose","onError","getFeedOrders","getProfileOrders","split","WebSocket","onopen","event","onerror","onmessage","parsedData","parse","restParsedData","onclose","send","wsActions","wsFeedOrdersMiddleware","wsProfileOrdersMiddleware","enhancer","composeWithDevTools","applyMiddleware","thunk","createStore","StrictMode","basename"],"mappings":"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","file":"static/js/main.663a0551.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"app_main__3yfFw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__AKixE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"ingredient-details_details__uP6-A\",\"details__header\":\"ingredient-details_details__header__3JXEn mt-10 mr-10 mb-0 ml-10 text text_type_main-large\",\"details__name\":\"ingredient-details_details__name__3NL6Y mt-4 mb-8 text text_type_main-medium\",\"details__list\":\"ingredient-details_details__list__1PDGS\",\"details__list-item\":\"ingredient-details_details__list-item__2J6yZ\",\"details__item-text\":\"ingredient-details_details__item-text__1SIHY text text_type_main-default\",\"details__item-text--data\":\"ingredient-details_details__item-text--data__3G9aC text text_type_digits-default\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"profile_wrapper__1Oz3z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"order-info_wrapper__M8UYs\",\"number\":\"order-info_number__osrir text text_type_digits-default\",\"name\":\"order-info_name__AKC9Z text_type_main-medium text mt-5 mb-2\",\"status\":\"order-info_status__wcc9g text text_type_main-default\",\"compound\":\"order-info_compound__1Vg6D text_type_main-medium text mb-2\",\"ingredients\":\"order-info_ingredients__2nbzc\",\"ingredient_link\":\"order-info_ingredient_link___LQ8Q\",\"ingredient_img\":\"order-info_ingredient_img__WcxWC\",\"ingredient_name\":\"order-info_ingredient_name__3-wy2 text text_type_main-default\",\"footer\":\"order-info_footer__2VeuG\",\"time\":\"order-info_time__1eO6f text_type_main-default\",\"price_wrapper\":\"order-info_price_wrapper__deFMb\",\"price\":\"order-info_price__sNxEd text text_type_digits-default\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients__tabs\":\"burger-ingredients_ingredients__tabs__2tZX_ mb-10\",\"ingredients__head\":\"burger-ingredients_ingredients__head__3K9zN mb-6\",\"ingredients__items\":\"burger-ingredients_ingredients__items__2Zkfp mb-10\",\"ingredients__item-wrapper\":\"burger-ingredients_ingredients__item-wrapper__2Jpmz\",\"ingredients__content\":\"burger-ingredients_ingredients__content__2BDf4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"forgot-password_wrapper__2AMTz\",\"form\":\"forgot-password_form__2i2rR mb-20\",\"heading\":\"forgot-password_heading__-MowK mb-6\",\"button\":\"forgot-password_button__zWl4U\",\"text\":\"forgot-password_text__3EeAQ text text_type_main-default mb-4\",\"link\":\"forgot-password_link__1xRFL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order_item\":\"feed-item_order_item__3WYek mt-4 p-6\",\"header\":\"feed-item_header__2qw6H mb-6\",\"number\":\"feed-item_number__38D3G text_type_digits-default\",\"time\":\"feed-item_time__2sbb_ text_type_main-default\",\"title\":\"feed-item_title__-1jAN text_type_main-medium text mb-2\",\"status\":\"feed-item_status__16AsY text text_type_main-default mb-6\",\"list_wrapper\":\"feed-item_list_wrapper__1fn_F\",\"ingredients\":\"feed-item_ingredients__2bz34 list-reset\",\"more\":\"feed-item_more__3q3sG text_type_main-default\",\"ingredinet\":\"feed-item_ingredinet__1okTB\",\"img\":\"feed-item_img__lTYf6\",\"price__wrapper\":\"feed-item_price__wrapper__3QpmP\",\"price\":\"feed-item_price__29yPN text text_type_digits-default\"};","export default __webpack_public_path__ + \"static/media/logo.67e4af8a.svg\";","import styles from './app-header.module.css';\nimport { Logo, BurgerIcon, ListIcon, ProfileIcon, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport mobileLogo from '../../images/logo.svg';\nimport { NavLink } from 'react-router-dom';\nimport { FC } from 'react';\n\nconst AppHeader: FC = () => {\n    return (\n        <header className={styles.header}>\n            <nav className={`${styles['header__nav']} pt-4 pb-4`}>\n                <NavLink to=\"/\" className={`${styles['header__nav-item']} ${styles['header__nav-item--logo']}`} activeClassName={`${styles['header__nav-item--active']}`} exact>\n                    <Logo />\n                    <img className={styles['header__logo-mobile']} src={mobileLogo} alt=\"React Burger Logo\" />\n                </NavLink>\n                <NavLink to=\"/\" className={`${styles['header__nav-item']}`} activeClassName={`${styles['header__nav-item--active']}`} exact>\n                    <Button type=\"secondary\" size=\"medium\">\n                        <BurgerIcon type='primary' />\n                        <span className=\"ml-2\" >Конструктор</span>\n                    </Button>\n                </NavLink>\n                <NavLink to=\"/feed\" className={styles['header__nav-item']} activeClassName={`${styles['header__nav-item--active']}`}>\n                    <Button type=\"secondary\" size=\"medium\">\n                        <ListIcon type='primary' />\n                        <span className=\"ml-2\">Лента&nbsp;заказов</span>\n                    </Button>\n                </NavLink>\n                <NavLink to=\"/profile\" className={styles['header__nav-item']} activeClassName={`${styles['header__nav-item--active']}`}>\n                    <Button type=\"secondary\" size=\"medium\">\n                        <ProfileIcon type='primary' />\n                        <span className=\"ml-2\">Личный&nbsp;кабинет</span>\n                    </Button>\n                </NavLink>\n            </nav>\n        </header>\n    );\n}\n\nexport default AppHeader;","import { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux'\nimport type { RootState, AppDispatch } from 'index'\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;","import { ReactNode } from 'react';\nimport { Route, Redirect, FC } from 'react-router-dom';\nimport { useAppSelector } from 'services/hooks';\n\ninterface IProtectedRoute {\n    path: string;\n    exact: boolean;\n    children: ReactNode;\n}\n\nconst ProtectedRoute: FC<IProtectedRoute> = ({ children, ...rest }) => {\n    const { userLogged } = useAppSelector((store) => ({\n        userLogged: store.login.userLogged\n    }));\n\n    return (\n        <Route\n            {...rest}\n            render={({ location }) => {\n                return userLogged ? children :\n                    <Redirect to={{\n                        pathname: '/login',\n                        state: { from: location }\n                    }} />;\n            }}\n        />\n    );\n};\n\nexport default ProtectedRoute;","import { Route, Redirect, useLocation } from 'react-router-dom';\nimport { FC, ReactNode } from 'react';\nimport { TLocation } from \"types\";\nimport { useAppSelector } from 'services/hooks';\ninterface ILoggedRoute {\n    path: string; \n    exact?: boolean;\n    children: ReactNode;\n}\n\nconst LoggedRoute: FC<ILoggedRoute> = ({ children, ...rest }) => {\n    const { userLogged } = useAppSelector((store) => ({\n        userLogged: store.login.userLogged\n    }));\n    const location = useLocation<TLocation>();\n    const { from } = location.state || { from: { pathname: '/' } };\n    return (\n        <Route\n            {...rest}\n            render={() => {\n                return !userLogged ? children : <Redirect to={from} />\n            }}\n        />\n    );\n};\n\nexport default LoggedRoute;","export const apiURL: 'https://norma.nomoreparties.space/api' = 'https://norma.nomoreparties.space/api';\nexport const wsUrl: 'wss://norma.nomoreparties.space/orders/all' = 'wss://norma.nomoreparties.space/orders/all';\nexport const wsUserUrl: 'wss://norma.nomoreparties.space/orders' = 'wss://norma.nomoreparties.space/orders';","export function setCookie(name: string, value: any, props?: any) {\n    props = props || {};\n    let exp = props.expires;\n    if (typeof exp == 'number' && exp) {\n        const d = new Date();\n        d.setTime(d.getTime() + exp * 1000);\n        exp = props.expires = d;\n    }\n    if (exp && exp.toUTCString) {\n        props.expires = exp.toUTCString();\n    }\n    value = encodeURIComponent(value);\n    let updatedCookie = name + '=' + value;\n    for (const propName in props) {\n        updatedCookie += '; ' + propName;\n        const propValue = props[propName];\n        if (propValue !== true) {\n            updatedCookie += '=' + propValue;\n        }\n    }\n    document.cookie = updatedCookie;\n}\n\nexport function getCookie(name: string) {\n    const matches = document.cookie.match(\n        new RegExp('(?:^|; )' + name.replace(/([.$?*|{}()[]\\/\\+^])/g, '$1') + '=([^;]*)')\n    );\n    return matches ? decodeURIComponent(matches[1]) : undefined;\n}","import { apiURL } from '../utils/constants';\nimport { setCookie, getCookie } from '../utils/cookie';\n\nexport const loginRequest = async (formData: { email: string; password: string; }) => {\n    try {\n        const res = await fetch(`${apiURL}/auth/login`, {\n            method: 'POST',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer',\n            body: JSON.stringify(formData)\n        }).then(res => res.json()).then(json => {\n            setCookie('token', json.accessToken);\n            return json;\n        }).catch(err => err);\n        return res;\n    } catch (error) {\n        console.log(error)\n        return Promise.reject(error)\n    }\n};\n\nexport const logoutRequest = async () => {\n    try {\n        const res = await fetch(`${apiURL}/auth/logout`, {\n            method: 'POST',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer',\n            body: JSON.stringify({\n                token: localStorage.getItem('refreshToken')\n            })\n        }).then(res => res.json()).then(json => json).catch(err => err);\n        setCookie('token', '');\n        return res;\n    } catch (error) {\n        console.log(error)\n        return Promise.reject(error)\n    }\n};\n\nexport const registerRequest = async (formData: { name: string; email: string; password: string; }) => {\n    try {\n        return await fetch(`${apiURL}/auth/register`, {\n            method: 'POST',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer',\n            body: JSON.stringify(formData)\n        }).then(res => res.json()).then(json => json).catch(err => err);;\n    } catch (error) {\n        console.log(error)\n        return Promise.reject(error)\n    }\n};\n\nexport const getUserRequest = async () => {\n    try {\n        return await fetch(`${apiURL}/auth/user`, {\n            method: 'GET',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json',\n                authorization: getCookie('token'),\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer'\n        }).then(res => res.json()).then(json => json).catch(err => err);\n    } catch (error) {\n        console.log(error)\n        return Promise.reject(error)\n    }\n};\n\nexport const updateUserRequest = async (formData: { name: string, email: string, password: string }) => {\n    try {\n        const res = await fetch(`${apiURL}/auth/user`, {\n            method: 'PATCH',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json',\n                authorization: getCookie('token'),\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer',\n            body: JSON.stringify(formData),\n        }).then(res => res.json()).then(json => json).catch(err => err);\n        return res;\n    } catch (error) {\n        console.log(error)\n        return Promise.reject(error)\n    }\n};\n\nexport const forgotPassRequest = async (email: string) => {\n    try {\n        const res = await fetch(`${apiURL}/password-reset`, {\n            method: 'POST',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer',\n            body: JSON.stringify({email}),\n        }).then(res => res.json()).then(json => json).catch(err => err);\n        return res;\n    } catch (error) {\n        console.log(error)\n        return Promise.reject(error)\n    }\n};\n\nexport const newPassRequest = async (formData: { password: string; token: string; }) => {\n    try {\n        const res = await fetch(`${apiURL}/password-reset/reset`, {\n            method: 'POST',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer',\n            body: JSON.stringify(formData),\n        }).then(res => res.json()).then(json => json).catch(err => err);\n        return res;\n    } catch (error) {\n        console.log(error)\n        return Promise.reject(error)\n    }\n};\n\nexport const refreshTokenRequest = async (after, args=null) => {\n    const refreshToken = localStorage.getItem('token');\n    try {\n      const res = await fetch(`${apiURL}/auth/token`, {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          token: refreshToken,\n        }),\n      }).then(res => res.json()).then(json => json).catch(err => err);\n      if (res.success) {\n          setCookie('token', res.accessToken);\n          localStorage.setItem('token', res.refreshToken);\n          localStorage.setItem('refreshToken', res.accessToken);\n          console.log('token refreshed!');\n          if (after) {\n            return await after(args)\n          }\n      }\n    } catch (error) {\n        console.log(error);\n        return Promise.reject(error);\n    }\n  }","import { AppThunk } from 'index';\nimport {\n    loginRequest,\n    logoutRequest,\n    registerRequest,\n    getUserRequest,\n    updateUserRequest,\n    refreshTokenRequest\n} from '../api';\nimport { AppDispatch } from 'index';\n\nexport const LOGIN_USER: 'LOGIN_USER' = 'LOGIN_USER';\nexport const LOGOUT_USER: 'LOGOUT_USER' = 'LOGOUT_USER';\nexport const REGISTRATION_USER_SUCCESS: 'REGISTRATION_USER_SUCCESS' = 'REGISTRATION_USER_SUCCESS';\n\nexport const login = (formData: { email: string; password: string; }): AppThunk => {\n    return async function (dispatch: AppDispatch) {\n        try {\n            const res = await loginRequest(formData);\n            if (res.success) {\n                localStorage.setItem('token', res.accessToken);\n                localStorage.setItem('refreshToken', res.refreshToken);\n                localStorage.setItem('userName', res.user.name);\n                localStorage.setItem('userEmail', res.user.email);\n                dispatch({\n                    type: LOGIN_USER,\n                    name: res.user.name,\n                    email: res.user.email\n                });\n            } else {\n                alert(res.message)\n            }\n            return res;\n        } catch (err) {\n            console.log(err);\n        }\n    }\n}\n\nexport const register = (formData: { name: string; email: string; password: string; }): AppThunk => {\n    return async function (dispatch: AppDispatch) {\n        try {\n            const res = await registerRequest(formData);\n            if (res.success) {\n                dispatch({\n                    type: REGISTRATION_USER_SUCCESS\n                });\n            } else {\n                console.log(res.message);\n                alert(res.message);\n            }\n            return res;\n        } catch (err) {\n            console.log(err);\n        }\n    }\n}\n\nexport const logout = (): AppThunk => {\n    try {\n        return async function (dispatch: AppDispatch) {\n            const res = await logoutRequest();\n            if (res.success) {\n                localStorage.removeItem('token');\n                localStorage.removeItem('refreshToken');\n                dispatch({\n                    type: LOGOUT_USER\n                });\n            }\n            return res;\n        }\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nexport const getUser = (): AppThunk => {\n    try {\n        return async function (dispatch: AppDispatch) {\n            const res = await getUserRequest();\n            if (res.success) {\n                localStorage.setItem('userName', res.user.name);\n                localStorage.setItem('userEmail', res.user.email);\n                dispatch({\n                    type: LOGIN_USER,\n                    name: res.user.name,\n                    email: res.user.email\n                });\n                return res;\n            }\n            if (res.message === 'jwt expired') {\n                console.log(res.message)\n                await refreshTokenRequest(getUserRequest, null)\n            }\n        }\n    } catch (err) {\n        console.log(err);\n    }\n}\n\nexport const updateUser = (formData: { name: string, email: string, password: string }): AppThunk => {\n    return async function (dispatch: AppDispatch) {\n        try {\n            const res = await updateUserRequest(formData);\n            if (res.success) {\n                localStorage.setItem('userName', res.user.name);\n                localStorage.setItem('userEmail', res.user.email);\n                dispatch({\n                    type: LOGIN_USER,\n                    name: res.user.name,\n                    email: res.user.email\n                });\n                return res;\n            }\n            if (res.message === 'jwt expired') {\n                console.log(res.message)\n                await refreshTokenRequest(updateUser, formData)\n            }\n        } catch (err) {\n            console.log(err);\n        }\n    }\n}\n","import { useRef, useState, useEffect, FC } from 'react';\nimport styles from './login.module.css';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Input, Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { login } from '../../services/actions/login';\nimport { useAppDispatch, useAppSelector } from 'services/hooks';\n\nconst LoginPage: FC = () => {\n    const { userLogged } = useAppSelector((store) => ({\n        userLogged: store.login.userLogged\n    }));\n    const dispatch = useAppDispatch();\n    const [formData, setFormData] = useState<{ email: string; password: string; }>({ email: '', password: '' });\n    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setFormData({ ...formData, [e.target.name]: e.target.value });\n    };\n    const onSubmit = (e: React.SyntheticEvent) => {\n        e.preventDefault();\n        if (formData !== { email: '', password: '' }) {\n            dispatch(login(formData));\n        }\n    };\n\n    const passwordRef = useRef(null);\n    const emailRef = useRef(null);\n    useEffect((): void => {\n        passwordRef.current.setAttribute(\"autocomplete\", \"current-password\");\n        emailRef.current.setAttribute(\"autocomplete\", \"email\");\n    }, []);\n\n    const [isShowPass, setPass] = useState<boolean>(false);\n    const onIconClick = (): void => {\n        setPass(!isShowPass);\n    }\n\n    return (\n        userLogged ? <Redirect to={'/'} /> :\n            <div className={styles.wrapper}>\n                <form className={styles.form} onSubmit={onSubmit}>\n                    <h1 className={styles.heading}>Вход</h1>\n                    <Input ref={emailRef} name=\"email\" type=\"email\" value={formData.email} placeholder=\"E-mail\" onChange={onChange} />\n                    <Input onIconClick={onIconClick} icon={isShowPass ? 'HideIcon' : 'ShowIcon'} ref={passwordRef} name=\"password\" type={isShowPass ? 'text' : 'password'} value={formData.password} placeholder=\"Пароль\" onChange={onChange} />\n                    <span className={styles.button}>\n                        <Button>Войти</Button>\n                    </span>\n                </form>\n                <p className={styles.text}>\n                    Вы — новый пользователь?&nbsp;\n                    <Link className={styles.link} to={'/register'}>\n                        Зарегистрироваться\n                    </Link>\n                </p>\n                <p className={styles.text}>\n                    Забыли пароль?&nbsp;\n                    <Link className={styles.link} to={'/forgot-password'}>\n                        Восстановить пароль\n                    </Link>\n                </p>\n            </div>\n    );\n}\n\nexport default LoginPage;","export const OPEN_MODAL: 'OPEN_MODAL' = 'OPEN_MODAL';\nexport const CLOSE_MODAL: 'CLOSE_MODAL' = 'CLOSE_MODAL';\nexport const LOADING_MODAL: 'LOADING_MODAL' = 'LOADING_MODAL';","import React, { useEffect, FC, ReactNode, MouseEvent } from 'react';\nimport ReactDOM from 'react-dom';\nimport styles from './modal-overlay.module.css';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { TLocation } from 'types';\nimport { CLOSE_MODAL } from 'services/actions/modal';\nimport { useAppDispatch } from 'services/hooks';\n\nconst ModalOverlay:FC<{children: ReactNode}> = ({children}) => {\n    const dispatch = useAppDispatch();\n    const location = useLocation<TLocation>();\n    const history = useHistory();\n    const node = React.useRef();\n    const modalRoot = document.getElementById('modal');\n\n    const closeWithEscape = (e: KeyboardEvent): null => {\n        if (e.key === 'Escape') {\n            if (location.pathname !== '/') {\n                history.goBack();\n            }\n            dispatch({ type: CLOSE_MODAL });\n        }\n        return null;\n    };\n\n    const closeWithClick = (e: MouseEvent<HTMLDivElement>): null => {\n        if (node.current === e.target) {\n            if (location.pathname !== '/') {\n                history.goBack();\n            }\n            dispatch({ type: CLOSE_MODAL });\n        }\n        return null;\n    };\n\n    useEffect(() => {\n        document.body.style.overflow = 'hidden';\n        document.addEventListener(\"keydown\", closeWithEscape, false);\n        return () => {\n            document.body.style.overflow = 'unset';\n            document.removeEventListener(\"keydown\", closeWithEscape, false);\n        };\n    });\n\n    return ReactDOM.createPortal(\n        <div className={styles.overlay} onClick={(e) => { closeWithClick(e) }} ref={node}>\n            {children}\n        </div>,\n        modalRoot\n    );\n}\n\nexport default ModalOverlay;","import { FC, ReactNode } from 'react';\nimport styles from './modal.module.css';\nimport { CloseIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport ModalOverlay from '../modal-overlay/modal-overlay';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { TLocation } from 'types';\nimport { CLOSE_MODAL } from 'services/actions/modal';\nimport { useAppDispatch } from 'services/hooks';\n\nconst Modal:FC<{children: ReactNode}> = ({ children }) => {\n    const location = useLocation<TLocation>();\n    const history = useHistory();\n    const dispatch = useAppDispatch();\n\n    return (\n        <ModalOverlay >\n            <div className={styles.modal}>\n                <button type=\"button\" aria-label=\"Закрыть\" className={styles['modal__close-btn']}\n                    onClick={():void => {\n                        if (location.pathname !== '/') {\n                            history.goBack();\n                        }\n                        dispatch({ type: CLOSE_MODAL });\n                    }}\n                >\n                    <CloseIcon type=\"primary\" />\n                </button>\n                {children}\n            </div>\n        </ModalOverlay>\n    );\n}\n\nexport default Modal;","export default __webpack_public_path__ + \"static/media/done.dd069a72.svg\";","import styles from './order-details.module.css';\nimport done from '../../images/done.svg';\nimport { FC } from 'react';\nimport { useAppSelector } from 'services/hooks';\n\nconst OrderDetails: FC = () => {\n    const { orderDetails } = useAppSelector((store) => ({\n        orderDetails: store.modal.orderDetails\n    }));\n\n    return (\n        <div className={styles.order}>\n            <p className={styles['order__id']}>{orderDetails.order.number}</p>\n            <p className={styles['order__id-text']}>идентификатор заказа</p>\n            <img className={styles['order__done-img']} src={done} alt=\"Готово\" width=\"120\" height=\"120\" />\n            <p className={styles['order__bottom-text']}>Ваш заказ начали готовить</p>\n            <p className={`${styles['order__bottom-text']} ${styles['order__bottom-text--last']}`}>Дождитесь готовности на орбитальной станции</p>\n        </div>\n    );\n}\n\nexport default OrderDetails;","import { apiURL } from '../../utils/constants';\nimport { getCookie } from 'utils/cookie';\nimport { AppThunk } from 'index';\nimport { TIngredient } from 'types';\nimport { AppDispatch } from 'index';\n\nexport const ADD_ITEM_TO_ORDER: 'ADD_ITEM_TO_ORDER' = 'ADD_ITEM_TO_ORDER';\nexport const REMOVE_ITEM_FROM_ORDER: 'REMOVE_ITEM_FROM_ORDER' = 'REMOVE_ITEM_FROM_ORDER';\nexport const CLEAR_ORDER_ITEMS: 'CLEAR_ORDER_ITEMS' = 'CLEAR_ORDER_ITEMS';\nexport const ADD_FULL_ORDER_LIST: 'ADD_FULL_ORDER_LIST' = 'ADD_FULL_ORDER_LIST';\n\nconst sendResource = (url: string, data: { \"ingredients\": TIngredient[] }) => {\n    return fetch(`${url}`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': getCookie('token'),\n        },\n        body: JSON.stringify(data)\n    })\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(`Could not fetch ${url}, received ${response.status}`)\n            };\n            return response.json();\n        })\n        .then((json) => {\n            return json;\n        })\n        .catch((error) => {\n            console.error('Ошибка:', error);\n        });\n};\n\nexport const makeOrder = (sendData: TIngredient[]): AppThunk => {\n    return async function (dispatch: AppDispatch) {\n        try {\n            const res = await sendResource(`${apiURL}/orders`, { \"ingredients\": sendData });\n            dispatch({ type: 'OPEN_MODAL', orderDetails: res });\n        } catch (err) {\n            console.log(err);\n        }\n    }\n};\n\nexport const dropToCart = (itemId: { _id?: string; }, ingredientsData: TIngredient[], orderItems: TIngredient[]): AppThunk => {\n    return function (dispatch: AppDispatch) {\n        try {\n            const item = ingredientsData.find(i => i._id === itemId._id);\n            if (item.type === 'bun') {\n                orderItems.map((elem) => {\n                    if (elem.type === 'bun') {\n                        dispatch({ type: 'REMOVE_ITEM_FROM_ORDER', orderItems: elem });\n                        dispatch({ type: 'DECREASE_COUNTER', ingredient: elem });\n                        dispatch({ type: 'DECREASE_COUNTER', ingredient: elem });\n                    }\n                    return null;\n                })\n                dispatch({ type: 'ADD_ITEM_TO_ORDER', orderItems: item });\n                dispatch({ type: 'INCREASE_COUNTER', ingredient: item });\n                dispatch({ type: 'INCREASE_COUNTER', ingredient: item });\n            } else {\n                dispatch({ type: 'ADD_ITEM_TO_ORDER', orderItems: item });\n                dispatch({ type: 'INCREASE_COUNTER', ingredient: item });\n            }\n        } catch (err) {\n            console.log(err);\n        }\n    }\n};\n\nexport const delElem = (elem: TIngredient): AppThunk => {\n    return function (dispatch: AppDispatch) {\n        try {\n            dispatch({ type: 'REMOVE_ITEM_FROM_ORDER', orderItems: elem });\n            dispatch({ type: 'DECREASE_COUNTER', ingredient: elem });\n        } catch (err) {\n            console.log(err);\n        }\n    }\n};","import React, { FC } from 'react';\nimport styles from './burger-constructor.module.css';\nimport { ConstructorElement, CurrencyIcon, DragIcon, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport Modal from '../modal/modal';\nimport OrderDetails from '../order-details/order-details';\nimport { useDrop, useDrag } from \"react-dnd\";\nimport { makeOrder, dropToCart, delElem } from '../../services/actions/order';\nimport { useHistory } from 'react-router-dom';\nimport { TIngredient } from 'types';\nimport { useAppDispatch, useAppSelector } from 'services/hooks';\n\ninterface IBurgerElem {\n    elem: TIngredient;\n    index: number;\n    lock: boolean;\n    position?: 'top' | 'bottom';\n    moveIngredient: (a: number, b: number) => void;\n}\n\nconst GetBurgerElem: FC<IBurgerElem> = ({ elem, index, lock, position, moveIngredient }) => {\n    const dispatch = useAppDispatch();\n\n    let name = elem.name;\n    if (position === 'top') {\n        name += ' (верх)';\n    } else if (position === 'bottom') {\n        name += ' (низ)';\n    }\n\n    const ref = React.useRef<HTMLDivElement>(null);\n\n    const [, drop] = useDrop({\n        accept: 'sort',\n        hover: (item: { index: number }, monitor) => {\n            if (!ref.current) {\n                return;\n            }\n\n            const dragIndex = item.index;\n            const hoverIndex = index;\n\n            if (dragIndex === hoverIndex) {\n                return;\n            }\n\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n            const clientOffset = monitor.getClientOffset();\n            const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n            if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n                return;\n            }\n            if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n                return;\n            }\n\n            moveIngredient(dragIndex, hoverIndex);\n\n            item.index = hoverIndex;\n        }\n    })\n\n    const [{ isDragging }, drag] = useDrag(\n        {\n            type: 'sort',\n            item: () => {\n                return { index };\n            },\n            collect: (monitor) => ({\n                isDragging: monitor.isDragging()\n            })\n\n        }\n    )\n\n    const opacity = isDragging ? 0.5 : 1;\n    drag(drop(ref));\n\n    return (\n        <div ref={ref} className={styles.burger__item} key={index} style={{ opacity }}>\n            {position ? null : <DragIcon type=\"secondary\" />}\n            <ConstructorElement\n                thumbnail={elem.image_mobile}\n                type={position}\n                isLocked={lock}\n                text={name}\n                price={elem.price}\n                handleClose={() => dispatch(delElem(elem))}\n            />\n        </div>\n    );\n};\n\nconst BurgerConstructor: FC = () => {\n    let history = useHistory();\n    const dispatch = useAppDispatch();\n    const { userLogged,\n        modalIsOpened,\n        modalIsLoading,\n        orderDetails,\n        orderItems,\n        ingredientsData\n    } = useAppSelector((store) => ({\n        userLogged: store.login.userLogged,\n        modalIsOpened: store.modal.modalIsOpened,\n        modalIsLoading: store.modal.modalIsLoading,\n        orderDetails: store.modal.orderDetails,\n        orderItems: store.order.orderItems,\n        ingredientsData: store.ingredients.ingredientsData\n    }));\n    const [amount, setAmount] = React.useState<number>(0);\n\n    const moveIngredient = (dragIndex: number, hoverIndex: number): void => {\n        const dragIngredient = orderItems[dragIndex];\n        if (dragIngredient.type === 'bun') {\n            return;\n        }\n        const newOrderItems = [...orderItems];\n        newOrderItems.splice(dragIndex, 1);\n        newOrderItems.splice(hoverIndex, 0, dragIngredient);\n\n        dispatch({ type: 'ADD_FULL_ORDER_LIST', orderItems: newOrderItems });\n    }\n\n    const [{ isDragOver }, dropTarget] = useDrop({\n        accept: \"ingredient\",\n        drop(itemId) {\n            dispatch(dropToCart(itemId, ingredientsData, orderItems));\n        },\n        collect: (monitor) => ({\n            isDragOver: monitor.isOver(),\n        })\n    });\n\n    const border = isDragOver ? '1px dashed #8585AD' : 'none';\n\n    React.useEffect(() => {\n        setAmount(orderItems.reduce((acc, i) => i.type === 'bun' ? acc + (i.price * 2) : acc + i.price, 0));\n    }, [ingredientsData, orderItems]);\n\n    return (\n        <div\n            ref={dropTarget}\n            data-test='dropTarget'\n        >\n            <section className={styles.burger} style={{ border }}>\n                <div>\n                    <div className={styles.burger__head} data-test='container-bun'>\n                        {orderItems.map((elem, index) => elem.type === 'bun' ? <GetBurgerElem key={index} elem={elem} index={index} lock={true} position={'top'} moveIngredient={moveIngredient} /> : null)}\n                    </div>\n                    <div className={styles.burger__list} data-test='container'>\n                        {orderItems.map((elem, index) => elem.type !== 'bun' ? <GetBurgerElem key={index} elem={elem} index={index} lock={false} moveIngredient={moveIngredient} /> : null)}\n                    </div>\n                    <div className={styles.burger__footer} data-test='container-bun'>\n                        {orderItems.map((elem, index) => elem.type === 'bun' ? <GetBurgerElem key={index} elem={elem} index={index} lock={true} position={'bottom'} moveIngredient={moveIngredient} /> : null)}\n                    </div>\n                </div>\n                <div className={styles.burger__order}>\n                    <p className={`${styles.burger__amount} text text_type_main-large`} data-test='burger-price'>\n                        {amount}&nbsp;<CurrencyIcon type=\"primary\" />\n                    </p>\n                    <Button type=\"primary\" size=\"large\" onClick={() => {\n                        if (!userLogged) {\n                            history.push('/login');\n                            return;\n                        }\n                        let bun, ingredients;\n\n                        orderItems.map((i) => {\n                            if (i.type === 'bun') {\n                                bun = true;\n                            } else if (i.type !== 'bun') {\n                                ingredients = true;\n                            }\n                            return null;\n                        })\n\n                        if (bun && ingredients) {\n                            dispatch(makeOrder(orderItems))\n                            dispatch({\n                                type: 'LOADING_MODAL'\n                            })\n                            dispatch({\n                                type: 'CLEAR_ORDER_ITEMS'\n                            })\n                            dispatch({\n                                type: 'RESET_COUNTER'\n                            })\n                        };\n                    }}>\n                        Оформить заказ\n                    </Button>\n                </div>\n            </section>\n            {(modalIsLoading || modalIsOpened) && orderDetails &&\n                <Modal>\n                    {modalIsLoading ? <p className={styles.loading}>Загрузка...</p> : <OrderDetails />}\n                </Modal>\n            }\n        </div>\n    );\n}\n\nexport default BurgerConstructor;","import React, { FC } from 'react';\nimport styles from './burger-ingredient.module.css';\nimport { Counter, CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { useDrag } from \"react-dnd\";\nimport { TIngredient } from \"types\"\n\nconst BurgerIngredient: FC<TIngredient> = React.memo((data) => {\n    const { _id } = data;\n    const [{ isDrag }, dragRef] = useDrag({\n        type: \"ingredient\",\n        item: { _id },\n        collect: monitor => ({\n            isDrag: monitor.isDragging()\n        })\n    });\n\n    return (\n        !isDrag &&\n        <div ref={dragRef}>\n            <button type=\"button\" className={styles.ingredient} >\n                {data.__v !== 0 ? <Counter count={data.__v} size=\"default\" /> : null}\n                <img className={styles.ingredient__image} src={data.image} alt={data.name} />\n                <p className={styles.ingredient__price}>\n                    <span className=\"mr-2\">{data.price}</span>\n                    <CurrencyIcon type=\"primary\" />\n                </p>\n                <p className={styles.ingredient__name}>\n                    {data.name}\n                </p>\n            </button>\n        </div>\n    );\n});\n\nexport default BurgerIngredient;","import React, { FC } from 'react';\nimport styles from './burger-ingredients.module.css';\nimport { Tab } from '@ya.praktikum/react-developer-burger-ui-components';\nimport BurgerIngredient from '../burger-ingredient/burger-ingredient';\nimport { Link, useLocation } from 'react-router-dom';\nimport { TLocation } from 'types';\nimport { useAppDispatch, useAppSelector } from 'services/hooks';\n\nconst BurgerIngredients: FC = () => {\n    const location = useLocation<TLocation>();\n    const dispatch = useAppDispatch();\n    const { ingredientsData, ingredientsRequest, ingredientsFailed } = useAppSelector((store) => ({\n        ingredientsData: store.ingredients.ingredientsData,\n        ingredientsRequest: store.ingredients.ingredientsRequest,\n        ingredientsFailed: store.ingredients.ingredientsFailed\n    }));\n\n    const [current, setCurrent] = React.useState<string>('buns');\n\n    const scrollContainerRef = React.useRef(null);\n    const buns = React.useRef(null);\n    const sauces = React.useRef(null);\n    const toppings = React.useRef(null);\n\n    const scrollOptions = {\n        block: \"start\",\n        behavior: \"smooth\"\n    }\n\n    const scrollTo = (e: string) => {\n        setCurrent(e);\n        if (e === 'buns') {\n            buns.current.scrollIntoView(scrollOptions);\n        } else if (e === 'sauces') {\n            sauces.current.scrollIntoView(scrollOptions);\n        } else if (e === 'toppings') {\n            toppings.current.scrollIntoView(scrollOptions);\n        };\n    };\n\n    const handleScroll = (): void => {\n        const scrollContainerPosition = scrollContainerRef.current.getBoundingClientRect().top;\n        const firstHeaderPosition = buns.current.getBoundingClientRect().top;\n        const secondHeaderPosition = sauces.current.getBoundingClientRect().top;\n        const thirdHeaderPosition = toppings.current.getBoundingClientRect().top;\n\n        const firstDiff = Math.abs(scrollContainerPosition - firstHeaderPosition);\n        const secondDiff = Math.abs(scrollContainerPosition - secondHeaderPosition);\n        const thirdDiff = Math.abs(scrollContainerPosition - thirdHeaderPosition);\n\n        if (firstDiff < secondDiff && firstDiff < thirdDiff) {\n            setCurrent('buns')\n        } else if (secondDiff < firstDiff && secondDiff < thirdDiff) {\n            setCurrent('sauces')\n        } else {\n            setCurrent('toppings')\n        }\n    };\n\n    if (ingredientsRequest) {\n        return <p className={null}>Загрузка</p>\n    }\n\n    if (ingredientsFailed) {\n        return <p className={null}>Ошибка, обратитесь к администратору сайта</p>\n    }\n\n    return (\n        <>\n            <section className=\"ingredients\">\n                <div className={styles.ingredients__tabs}>\n                    <Tab value=\"buns\" active={current === 'buns'} onClick={scrollTo}>\n                        Булки\n                    </Tab>\n                    <Tab value=\"sauces\" active={current === 'sauces'} onClick={scrollTo}>\n                        Соусы\n                    </Tab>\n                    <Tab value=\"toppings\" active={current === 'toppings'} onClick={scrollTo}>\n                        Начинки\n                    </Tab>\n                </div>\n                <div className={styles.ingredients__content} ref={scrollContainerRef} onScroll={handleScroll}>\n                    <div className=\"ingredients__wrapper\" ref={buns}>\n                        <h2 className={`${styles.ingredients__head} text text_type_main-medium`}>Булки</h2>\n                        <div className={styles.ingredients__items}>\n                            {ingredientsData.map((data) => {\n                                if (data.type === \"bun\") {\n                                    return (\n                                        <div key={data._id} data-test='ingredient' className={styles['ingredients__item-wrapper']} onClick={() => {\n                                            dispatch({ type: 'OPEN_MODAL', ingredientDetails: data });\n                                        }}>\n                                            <Link key={data._id} to={{\n                                                pathname: `/ingredients/${data._id}`,\n                                                state: { background: location }\n                                            }} style={{ textDecoration: 'none' }}\n                                            >\n                                                <BurgerIngredient {...data} />\n                                            </Link>\n                                        </div>\n                                    )\n                                }\n                                return null;\n                            })}\n                        </div>\n                    </div>\n                    <div className=\"ingredients__wrapper\" ref={sauces}>\n                        <h2 className={`${styles.ingredients__head} text text_type_main-medium`}>Соусы</h2>\n                        <div className={styles.ingredients__items}>\n                            <div className={styles.ingredients__items} >\n                                {ingredientsData.map((data) => {\n                                    if (data.type === \"sauce\") {\n                                        return (\n                                            <div key={data._id} data-test='ingredient' className={styles['ingredients__item-wrapper']} onClick={() => {\n                                                dispatch({ type: 'OPEN_MODAL', ingredientDetails: data });\n                                            }}>\n                                                <Link key={data._id} to={{\n                                                    pathname: `/ingredients/${data._id}`,\n                                                    state: { background: location }\n                                                }} style={{ textDecoration: 'none' }}\n                                                >\n                                                    <BurgerIngredient key={data._id} {...data} />\n                                                </Link>\n                                            </div>\n                                        )\n                                    }\n                                    return null;\n                                })}\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"ingredients__wrapper\" ref={toppings}>\n                        <h2 className={`${styles.ingredients__head} text text_type_main-medium`}>Начинки</h2>\n                        <div className={styles.ingredients__items}>\n                            <div className={styles.ingredients__items} >\n                                {ingredientsData.map((data) => {\n                                    if (data.type === \"main\") {\n                                        return (\n                                            <div key={data._id} data-test='ingredient' className={styles['ingredients__item-wrapper']} onClick={() => {\n                                                dispatch({ type: 'OPEN_MODAL', ingredientDetails: data });\n                                            }}>\n                                                <Link key={data._id} to={{\n                                                    pathname: `/ingredients/${data._id}`,\n                                                    state: { background: location }\n                                                }} style={{ textDecoration: 'none' }}\n                                                >\n                                                    <BurgerIngredient key={data._id} {...data} />\n                                                </Link>\n                                            </div>\n                                        )\n                                    }\n                                    return null;\n                                })}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </>\n    );\n}\n\nexport default BurgerIngredients;","import BurgerConstructor from 'components/burger-constructor/burger-constructor';\nimport BurgerIngredients from 'components/burger-ingredients/burger-ingredients';\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport styles from './main.module.css'\nimport { FC } from 'react';\n\nconst MainPage: FC = () => {\n    return (\n        <div className={styles.container}>\n            <h1 className={`${styles.head} text text_type_main-large mt-10 mb-5`}>Собери бургер</h1>\n            <div className={styles.wrapper}>\n                <div className={styles['main__content-items']}>\n                    <DndProvider backend={HTML5Backend}>\n                        <div className={styles['main__content-item']}>\n                            <BurgerIngredients />\n                        </div>\n                        <div className={styles['main__content-item']}>\n                            <BurgerConstructor />\n                        </div>\n                    </DndProvider>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default MainPage;","import { FC } from \"react\";\n\nconst NotFoundPage: FC = () => {\n    return (\n        <h1>404 Страница не найдена</h1>\n    );\n}\n\nexport default NotFoundPage;","import React, { FormEvent, FC, useEffect } from 'react';\nimport styles from './register.module.css';\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { Link } from 'react-router-dom';\nimport { register } from 'services/actions/login';\nimport { useHistory } from 'react-router-dom';\nimport { useAppDispatch, useAppSelector } from 'services/hooks';\n\nconst RegPage: FC = () => {\n    const [formData, setFormData] = React.useState<{ name: string; email: string; password: string; }>({ name: '', email: '', password: '' });\n    const history = useHistory();\n    const onChange = (e) => {\n        setFormData({ ...formData, [e.target.name]: e.target.value });\n    };\n    const { regUserSuccess } = useAppSelector((store) => ({\n        regUserSuccess: store.login.regUserSuccess,\n    }));\n    const dispatch = useAppDispatch();\n    const onSubmit = (e: FormEvent) => {\n        e.preventDefault();\n        dispatch(register(formData));\n    }\n\n    useEffect(() => {\n        if (regUserSuccess) {\n            history.replace('/login');\n        }\n      }, [regUserSuccess]);\n\n    return (\n        <div className={styles.wrapper}>\n            <form className={styles.form} onSubmit={onSubmit}>\n                <h1 className={styles.heading}>Регистрация</h1>\n                <Input\n                    type=\"text\"\n                    placeholder=\"Имя\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={onChange}\n                />\n\n                <Input\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={onChange}\n                />\n\n                <Input placeholder=\"Пароль\" name=\"password\" type=\"password\" value={formData.password} onChange={onChange} />\n\n                <span className={styles.button}>\n                    <Button>Зарегистрироваться</Button>\n                </span>\n            </form>\n            <p className={styles.text}>\n                Уже зарегистрированы?&nbsp;\n                <Link className={styles.link} to={'/login'}>\n                    Войти\n                </Link>\n            </p>\n        </div>\n    );\n}\n\nexport default RegPage;","import { useRef, useState, useEffect } from 'react';\nimport styles from './user-profile.module.css';\nimport { Button, Input } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { updateUser } from '../../services/actions/login';\nimport { FC } from 'react-router-dom';\nimport { useAppDispatch, useAppSelector } from 'services/hooks';\n\nconst UserProfile: FC = () => {\n    const dispatch = useAppDispatch();\n    const { name, email } = useAppSelector((store) => ({\n        name: store.login.user.name,\n        email: store.login.user.email\n    }));\n    const [formData, setFormData] = useState<{ name: string; email: string; password: string; }>({ name: name, email: email, password: '' });\n    const [isChanged, setChanged] = useState<boolean>(false);\n    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setFormData({ ...formData, [e.target.name]: e.target.value });\n        if (!isChanged) { setChanged(true) }\n    };\n\n    const onSubmit = (e: React.SyntheticEvent) => {\n        e.preventDefault()\n        if (formData.name && formData.email) {\n            dispatch(updateUser(formData));\n            setChanged(false);\n        }\n    };\n\n    const onCancel = (e: React.SyntheticEvent) => {\n        e.preventDefault();\n        setFormData({\n            name: name,\n            email: email,\n            password: ''\n        });\n        setChanged(false);\n    };\n    \n    const passwordRef = useRef(null);\n    const emailRef = useRef(null);\n    const usernameRef = useRef(null);\n\n    useEffect(() => {\n        passwordRef.current.setAttribute(\"autocomplete\", \"current-password\");\n        emailRef.current.setAttribute(\"autocomplete\", \"email\");\n        usernameRef.current.setAttribute(\"autocomplete\", \"username\");\n    }, []);\n\n    return (\n        <form className={styles.user_info} onSubmit={onSubmit}>\n            <Input ref={usernameRef} onChange={onChange} icon={'EditIcon'} name=\"name\" type=\"text\" value={formData.name} placeholder=\"Имя\" />\n            <Input ref={emailRef} onChange={onChange} icon={'EditIcon'} name=\"email\" type=\"email\" value={formData.email} placeholder=\"Логин\" />\n            <Input ref={passwordRef} onChange={onChange} icon={'EditIcon'} name=\"password\" type=\"password\" value={formData.password} placeholder=\"Пароль\" />\n\n            {isChanged && formData.password !== '' &&\n                <span className={styles.button}>\n                    <Button>Сохранить</Button>\n                    <Button onClick={onCancel} size='medium' type='secondary'>Отмена</Button>\n                </span>\n            }\n        </form>\n    );\n}\n\nexport default UserProfile;","import styles from './profile-nav.module.css';\nimport { NavLink } from 'react-router-dom';\nimport { logout } from '../../services/actions/login';\nimport { FC, ReactNode } from 'react';\nimport { useAppDispatch } from 'services/hooks';\n\nconst ProfileNav:FC<{children: ReactNode}> = ({children}) => {\n    const dispatch = useAppDispatch();\n    const onClick = (): void => {\n        dispatch(logout());\n    }\n\n    return (\n        <div className={styles.wrapper}>\n            <nav className={styles.nav}>\n                <NavLink to=\"/profile\" className={styles.link} activeClassName={styles.active} exact>\n                    Профиль\n                </NavLink>\n                <NavLink to=\"/profile/orders\" className={styles.link} activeClassName={styles.active}>\n                    История заказов\n                </NavLink>\n                <NavLink to=\"/login\" className={styles.link} onClick={onClick}>\n                    Выход\n                </NavLink>\n            </nav>\n            <p className={styles.text}>\n                {children}\n            </p>\n        </div>\n    );\n}\n\nexport default ProfileNav;","import styles from './profile.module.css';\nimport { Redirect } from 'react-router-dom';\nimport UserProfile from 'components/user-profile/user-profile';\nimport ProfileNav from 'components/profile-nav/profile-nav';\nimport { FC } from 'react';\nimport { useAppSelector } from 'services/hooks';\n\nconst ProfilePage: FC = () => {\n    const { userLogged } = useAppSelector((store) => ({\n        userLogged: store.login.userLogged\n    }));\n\n    return (\n        !userLogged ? <Redirect to={'/login'} /> :\n            <section>\n                <div className={styles.wrapper}>\n                    <ProfileNav>\n                        В этом разделе вы можете изменить свои персональные данные\n                    </ProfileNav>\n                    <UserProfile />\n                </div>\n            </section>\n    );\n}\n\nexport default ProfilePage;","import React from 'react';\nimport styles from './forgot-password.module.css';\nimport { Button, Input } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { Link, Redirect, useHistory, useLocation } from 'react-router-dom';\nimport { forgotPassRequest, newPassRequest } from '../../services/api';\nimport { TLocation } from 'types';\nimport { useAppSelector } from 'services/hooks';\n\nconst ForgotPassPage = () => {\n    let history = useHistory();\n    const location = useLocation<TLocation>();\n    const [formData, setFormData] = React.useState<{ password: string; token: string; }>({ password: '', token: '' });\n    const [email, setEmail] = React.useState<string>('');\n    const [isVerification, setVerification] = React.useState<boolean>(false);\n    const [hasError, setHasError] = React.useState<boolean>(false);\n    const [errorMessage, setErrorMessage] = React.useState<string>('');\n    const [hasSuccess, setHasSuccess] = React.useState<boolean>(false);\n    const { userLogged } = useAppSelector((store) => ({\n        userLogged: store.login.userLogged\n    }));\n\n    const onChangeEmail = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setEmail(e.target.value);\n    };\n\n    const onSubmitEmail = (e: React.SyntheticEvent) => {\n        e.preventDefault();\n        forgotPassRequest(email);\n        setVerification(true);\n        setEmail('');\n        history.push('/reset-password');\n    }\n\n    const onChangePass = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setFormData({ ...formData, [e.target.name]: e.target.value });\n        setHasError(false);\n    };\n\n    const onSubmitReset = async (e: React.SyntheticEvent) => {\n        e.preventDefault();\n        const res = await newPassRequest(formData);\n        if(res.success) {\n            setHasSuccess(true);\n            setEmail('');\n        } else {\n            setHasError(true);\n            setErrorMessage(res.message);\n        }\n    }\n\n    const [isShowPass, setPass] = React.useState<boolean>(false);\n    const onIconClick = (): void => {\n        setPass(!isShowPass);\n    }\n\n    if (hasSuccess) {\n        return (\n            <Redirect to={{ pathname: '/login' }} />\n        );\n    }\n\n    if (!isVerification && location.pathname === '/reset-password') {\n        return (\n            <Redirect to={{ pathname: '/forgot-password' }} />\n        );\n    }\n\n\n    if (isVerification) {\n        return (\n            <div className={styles.wrapper}>\n                <form className={styles.form} onSubmit={onSubmitReset}>\n                    <h1 className={styles.heading}>Восстановление пароля</h1>\n                    {hasError && <span className={styles.error}>{errorMessage}</span>}\n                    <Input\n                        type={isShowPass ? 'text' : \"password\"}\n                        placeholder=\"Введите новый пароль\"\n                        name=\"password\"\n                        icon={isShowPass ? 'HideIcon' : 'ShowIcon'}\n                        value={formData.password}\n                        onChange={onChangePass}\n                        onIconClick={onIconClick}\n                        error={hasError}\n                        success={hasSuccess}\n                    />\n                    <Input\n                        type=\"text\"\n                        placeholder=\"Введите код из письма\"\n                        name=\"token\"\n                        value={formData.token}\n                        onChange={onChangePass}\n                        error={hasError}\n                        success={hasSuccess}\n                    />\n                    <span className={styles.button}>\n                        <Button>Восстановить</Button>\n                    </span>\n                </form>\n                <p className={styles.text}>\n                    Вспомнили пароль?&nbsp;\n                    <Link className={styles.link} to={'/login'}>\n                        Войти\n                    </Link>\n                </p>\n            </div>\n        )\n    }\n\n    return (\n        userLogged ? <Redirect to={'/'} /> :\n            <div className={styles.wrapper}>\n                <form className={styles.form} onSubmit={onSubmitEmail}>\n                    <h1 className={styles.heading}>Восстановление пароля</h1>\n                    <Input\n                        type=\"email\"\n                        placeholder=\"Укажите e-mail\"\n                        name=\"email\"\n                        value={email}\n                        onChange={onChangeEmail}\n                    />\n                    <span className={styles.button}>\n                        <Button>Восстановить</Button>\n                    </span>\n                </form>\n                <p className={styles.text}>\n                    Вспомнили пароль?&nbsp;\n                    <Link className={styles.link} to={'/login'}>\n                        Войти\n                    </Link>\n                </p>\n            </div>\n    );\n}\n\nexport default ForgotPassPage;","const setDay = (date: Date) => {\n  const today = new Date()\n  date.setHours(0, 0, 0, 0)\n  today.setHours(0, 0, 0, 0)\n  const dayDiff = (today.valueOf() - date.valueOf()) / (24 * 60 * 60 * 1000)\n\n  if (dayDiff === 0) {\n    return 'Сегодня'\n  } else if (dayDiff === 1) {\n    return 'Вчера'\n  } else if (dayDiff > 1 && dayDiff < 5) {\n    return dayDiff + ' дня назад'\n  } else {\n    return dayDiff + ' дней назад'\n  }\n}\n\nfunction resultData(data: Date) {\n    const rowDate = new Date(data);\n    const formattedDate = rowDate.toLocaleString('ru', {\n        hour: '2-digit',\n        minute: '2-digit',\n        timeZoneName: 'short',\n      })\n    return `${setDay(rowDate)}, ${formattedDate}`;\n}\n\nexport default resultData;","import styles from './feed-item.module.css'\nimport { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { Link, useLocation } from 'react-router-dom';\nimport resultData from '../../utils/formate-date';\nimport { FC } from 'react';\nimport { TIngredient, TLocation, TOrder } from \"types\";\nimport { useAppSelector } from 'services/hooks';\n\ninterface IFeedItem {\n  item: TOrder;\n  link: 'feed' | 'orders';\n}\n\nconst FeedItem: FC<IFeedItem> = ({ item, link }) => {\n  const location = useLocation<TLocation>();\n  const { ingredientsData } = useAppSelector((store) => ({\n    ingredientsData: store.ingredients.ingredientsData,\n  }));\n\n  const { number, name, status, createdAt, ingredients } = item;\n\n  const filteredIngredients = ingredients.map((item: string) => ingredientsData.find((element: TIngredient): boolean => element._id === item));\n  \n  const price = filteredIngredients.reduce((prevValue: number, item: TIngredient) => prevValue + item.price, 0);\n\n  return (\n    <Link key={number} to={{\n      pathname: `/${link === 'feed' ? 'feed' : 'profile/orders'}/${number}`,\n      state: { background: location }\n    }} style={{ textDecoration: 'none' }}\n    >\n      <article className={styles.order_item} >\n        <header className={styles.header}>\n          <p className={styles.number}>\n            #{number}\n          </p>\n          <time className={styles.time}>\n            {resultData(createdAt)}\n          </time>\n        </header>\n        <h2 className={styles.title}>\n          {name}\n        </h2>\n        <p className={styles.status} style={status === 'done' ? { color: '#00CCCC' } : { color: '#F2F2F3' }}>\n          {status === 'done' ? 'Выполнен' : 'Выполняется'}\n        </p>\n        <div className={styles.list_wrapper}>\n          <ul className={styles.ingredients}>\n            {\n              filteredIngredients.map((item, index) => (\n                index < 5 ?\n                  <li key={index} className={styles.ingredinet}>\n                    {index === 4 && filteredIngredients.length > 5 &&\n                      <span className={styles.more}>\n                        +{filteredIngredients.length - 5}\n                      </span>}\n                    <img className={styles.img} src={item.image_mobile} alt={item.name} />\n                  </li>\n                  : null\n              ))\n            }\n          </ul>\n          <p className={styles.price__wrapper}>\n            <span className={styles.price}>\n              {price}\n            </span>\n            <CurrencyIcon type='primary' />\n          </p>\n        </div>\n      </article>\n    </Link>\n  );\n}\n\nexport default FeedItem;","export const WS_CONNECTION_SUCCESS: 'WS_CONNECTION_SUCCESS' = 'WS_CONNECTION_SUCCESS';\nexport const WS_CONNECTION_ERROR: 'WS_CONNECTION_ERROR' = 'WS_CONNECTION_ERROR';\nexport const WS_CONNECTION_CLOSED: 'WS_CONNECTION_CLOSED' = 'WS_CONNECTION_CLOSED';\nexport const WS_CONNECTION_START: 'WS_CONNECTION_START' = 'WS_CONNECTION_START';\nexport const WS_CONNECTION_END: 'WS_CONNECTION_END' = 'WS_CONNECTION_END';\nexport const WS_USER_CONNECTION_START: 'WS_USER_CONNECTION_START' = 'WS_USER_CONNECTION_START';\nexport const WS_SEND_MESSAGE: 'WS_SEND_MESSAGE' = 'WS_SEND_MESSAGE';\nexport const WS_CONNECTION_GET_FEED_ORDERS: 'WS_CONNECTION_GET_FEED_ORDERS'= 'WS_CONNECTION_GET_FEED_ORDERS';\nexport const WS_CONNECTION_GET_USER_ORDERS: 'WS_CONNECTION_GET_USER_ORDERS' = 'WS_CONNECTION_GET_USER_ORDERS';\nimport { TOrder } from \"types\";\n\ninterface IWithPayload {\n    type: string;\n    payload: TOrder[] | TOrder;\n}\ninterface IWithOutPayload {\n    type: string;\n}\n\nexport const getFeedOrders = (message: TOrder[]): IWithPayload => {\n    return {\n        type: WS_CONNECTION_GET_FEED_ORDERS,\n        payload: message\n    }\n};\n\nexport const getProfileOrders = (message: TOrder[]): IWithPayload => {\n    return {\n        type: WS_CONNECTION_GET_USER_ORDERS,\n        payload: message\n    }\n};\n\nexport const wsConnectionSuccess = (): IWithOutPayload => {\n    return {\n        type: WS_CONNECTION_SUCCESS\n    };\n};\n\nexport const wsConnectionError = (): IWithOutPayload => {\n    return {\n        type: WS_CONNECTION_ERROR\n    };\n};\n\nexport const wsConnectionClosed = (): IWithOutPayload => {\n    return {\n        type: WS_CONNECTION_CLOSED\n    };\n};\n\nexport const wsSendMessage = (message): IWithPayload => {\n    return {\n        type: WS_SEND_MESSAGE,\n        payload: message\n    }\n}","import FeedItem from \"../../components/feed-item/feed-item\"\nimport styles from './orders.module.css';\nimport { useEffect, FC } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport ProfileNav from 'components/profile-nav/profile-nav';\nimport {\n    WS_USER_CONNECTION_START,\n    wsConnectionClosed\n} from '../../services/actions/ws';\nimport { useAppDispatch, useAppSelector } from 'services/hooks';\n\nconst OrdersPage: FC = () => {\n    const { userLogged, ingredientsRequestSuccess, profileOrders, profileOrdersSuccess } = useAppSelector((store) => ({\n        userLogged: store.login.userLogged,\n        ingredientsRequestSuccess: store.ingredients.ingredientsRequestSuccess,\n        profileOrders: store.ws.profileOrders,\n        profileOrdersSuccess: store.ws.profileOrdersSuccess\n    }));\n    const dispatch = useAppDispatch();\n\n    useEffect((): any => {\n        dispatch({ type: WS_USER_CONNECTION_START });\n        return () => dispatch(wsConnectionClosed())\n    }, [dispatch]);\n\n    return (\n        !userLogged ? <Redirect to={'/login'} /> :\n            <section>\n                <div className={styles.wrapper}>\n                    <ProfileNav>\n                        В этом разделе вы можете просмотреть свою историю заказов\n                    </ProfileNav>\n                    <ul className={`${styles.main__content} ${styles.main__feed_list}`}>\n                        {ingredientsRequestSuccess && profileOrdersSuccess ?\n                            profileOrders?.map((item, index) => (\n                                <li className={styles.list__item} key={index}>\n                                    <FeedItem item={item} link='orders' />\n                                </li>\n                            ))\n                            : null\n                        }\n                    </ul>\n                </div>\n            </section>\n    );\n}\n\nexport default OrdersPage;","import styles from './ingredient-details.module.css';\nimport { useParams } from 'react-router-dom';\nimport { FC } from 'react';\nimport { TIngredient } from \"types\";\nimport { useAppSelector } from 'services/hooks';\n\nconst IngredientDetails: FC = () => {\n    const { ingredientDetails, ingredientsData } = useAppSelector((store) => ({\n        ingredientDetails: store.modal.ingredientDetails,\n        ingredientsData: store.ingredients.ingredientsData\n    }));\n    const { id } = useParams<{ id: string; }>();\n    const currentIngredient = (id ? ingredientsData.find((item: TIngredient) => item._id === id) : null) || ingredientDetails;\n\n    return (\n        <div className={styles.details}>\n            <h3 className={styles['details__header']}>Детали ингредиента</h3>\n            <img src={currentIngredient.image_large} alt={currentIngredient.name} width=\"420\" height=\"240\" />\n            <p className={styles['details__name']}>{currentIngredient.name}</p>\n            <ul className={styles['details__list']}>\n                <li className={styles['details__list-item']}>\n                    <p className={styles['details__item-text']}>Калории, ккал</p>\n                    <p className={`${styles['details__item-text']} ${styles['details__item-text--data']}`}>{currentIngredient.calories}</p>\n                </li>\n                <li className={styles['details__list-item']}>\n                    <p className={styles['details__item-text']}>Белки, г</p>\n                    <p className={`${styles['details__item-text']} ${styles['details__item-text--data']}`}>{currentIngredient.proteins}</p>\n                </li>\n                <li className={styles['details__list-item']}>\n                    <p className={styles['details__item-text']}>Жиры, г</p>\n                    <p className={`${styles['details__item-text']} ${styles['details__item-text--data']}`}>{currentIngredient.fat}</p>\n                </li>\n                <li className={styles['details__list-item']}>\n                    <p className={styles['details__item-text']}>Углеводы, г</p>\n                    <p className={`${styles['details__item-text']} ${styles['details__item-text--data']}`}>{currentIngredient.carbohydrates}</p>\n                </li>\n            </ul>\n        </div>\n    );\n}\n\nexport default IngredientDetails;","import IngredientDetails from \"../../components/ingredient-details/ingredient-details\"\nimport { FC } from \"react\";\n\nconst IngredientPage: FC = () => {\n    return (\n        <IngredientDetails />\n    );\n}\n\nexport default IngredientPage;","import styles from './orders-table.module.css';\nimport { FC } from 'react';\nimport { TOrder } from \"types\";\nimport { useAppSelector } from 'services/hooks';\n\nconst OrdersTable: FC = () => {\n    const { feedOrders, total, totalToday } = useAppSelector((store) => ({\n        feedOrders: store.ws.feedOrders,\n        total: store.ws.total,\n        totalToday: store.ws.totalToday,\n    }));\n    \n    const doneItems: TOrder[]  = feedOrders.filter((item: TOrder): boolean => item.status === \"done\")\n    const pendingItems: TOrder[] = feedOrders.filter((item: TOrder): boolean => item.status === \"pending\")\n\n    return (\n        <section className={styles.wrapper}>\n            <div className={styles.status_block}>\n                <div className={styles.column}>\n                    <p className=\"text text_type_main-medium mb-6\">\n                        Готовы:\n                    </p>\n                    <ul className={styles.items} style={{ color: '#00CCCC' }}>\n                        {doneItems.map((item, index) => {\n                            if (index < 10) {\n                                return <li className=\"text text_type_digits-default mb-2\" key={item._id} >{item.number}</li>\n                            }\n                            return null;\n                        }\n                        )}\n                    </ul>\n                </div>\n                <div className={styles.column}>\n                    <p className=\"text text_type_main-medium\">\n                        В работе:\n                    </p>\n                    <ul className={styles.items}>\n                        {pendingItems.map((item, index) => {\n                            if (index < 10) {\n                                return <li className=\"text text_type_digits-default mb-2\" key={item._id} >{item.number}</li>\n                            }\n                            return null;\n                        }\n                        )}\n                    </ul>\n                </div>\n            </div>\n            <div className={styles.total_block}>\n                <p className=\"text text_type_main-medium\">\n                    Выполнено за все время:\n                </p>\n                <p className={`${styles.total} text text_type_digits-large`}>\n                    {total}\n                </p>\n            </div>\n            <div className={styles.total_block}>\n                <p className='text text_type_main-medium'>\n                    Выполнено за сегодня:\n                </p>\n                <p className={`${styles.total} text text_type_digits-large`}>\n                    {totalToday}\n                </p>\n            </div>\n        </section>\n    )\n};\n\nexport default OrdersTable;","import { useEffect, FC } from 'react';\nimport styles from './feed.module.css'\nimport FeedItem from 'components/feed-item/feed-item';\nimport {\n    WS_CONNECTION_START,\n    wsConnectionClosed\n} from '../../services/actions/ws';\nimport OrdersTable from 'components/orders-table/orders-table';\nimport { useAppDispatch, useAppSelector } from 'services/hooks';\n\nconst FeedPage: FC = () => {\n    const { ingredientsRequestSuccess, feedOrders } = useAppSelector((store) => ({\n        ingredientsRequestSuccess: store.ingredients.ingredientsRequestSuccess,\n        feedOrders: store.ws.feedOrders,\n    }));\n    const dispatch = useAppDispatch();\n\n    useEffect((): any => {\n        dispatch({ type: WS_CONNECTION_START });\n        return () => dispatch(wsConnectionClosed());\n    }, [dispatch]);\n\n    return (\n        <div className={styles.container}>\n            <h1 className={styles.head}>Лента заказов</h1>\n            <div className={styles.wrapper}>\n                <div className={styles.main__contents}>\n                    {ingredientsRequestSuccess &&\n                        <>\n                            <ul className={`${styles.main__content} ${styles.main__feed_list}`}>\n                                {feedOrders.map((item, index) => (\n                                    <li className={styles.list__item} key={index}>\n                                        <FeedItem item={item} link='feed' />\n                                    </li>\n                                ))}\n                            </ul>\n                            <div className={styles.main__content}>\n                                <OrdersTable />\n                            </div>\n                        </>\n                    }\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default FeedPage;","import { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport styles from './order-info.module.css';\nimport resultData from '../../utils/formate-date';\nimport { Link, useLocation, useHistory, useParams } from 'react-router-dom';\nimport { FC } from 'react';\nimport { TIngredient, TLocation } from \"types\";\nimport { useAppSelector } from 'services/hooks';\n\nconst OrderInfo: FC = () => {\n    const location = useLocation<TLocation>();\n    const history = useHistory();\n    let background = history.action === 'PUSH' && location.state && location.state.background;\n\n    const { ingredientsRequestSuccess, ingredientsData, feedOrders, profileOrders } = useAppSelector((store) => ({\n        ingredientsRequestSuccess: store.ingredients.ingredientsRequestSuccess,\n        ingredientsData: store.ingredients.ingredientsData,\n        feedOrders: store.ws.feedOrders,\n        profileOrders: store.ws.profileOrders,\n    }));\n\n    const { id } = useParams<{ id: string; }>();\n    const currentItem = feedOrders.find((i): boolean => i.number === parseInt(id)) || profileOrders.find((i): boolean => i.number === parseInt(id));\n    const filteredIngredients = currentItem.ingredients.map((item: string) => ingredientsData.find((element: TIngredient): boolean => element._id === item));\n    \n    const price = ingredientsRequestSuccess && filteredIngredients.reduce((prevValue: number, item: TIngredient) => {\n        if (item.type === 'bun') {\n            return prevValue + (item.price * 2)\n        }\n        return prevValue + item.price\n    }, 0);\n\n    return (\n        ingredientsRequestSuccess &&\n        <div className={styles.wrapper}>\n            <p className={styles.number}>\n                #{currentItem.number}\n            </p>\n            <p className={styles.name}>\n                {currentItem.name}\n            </p>\n            <p className={styles.status} style={currentItem.status === 'done' ? { color: '#00CCCC' } : { color: '#F2F2F3' }}>\n                {currentItem.status === 'done' ? 'Выполнен' : currentItem.status === 'canceled' ? 'Отменен' : 'Выполняется'}\n            </p>\n            <p className={styles.compound}>\n                Состав:\n            </p>\n            <ul className={styles.ingredients}>\n                {\n                    filteredIngredients.map((item, index) => (\n                        <li key={index} className={styles.ingredient_item}>\n                            <Link to={{\n                                pathname: `/ingredients/${item._id}`,\n                                state: { background: location }\n                            }} style={{ textDecoration: 'none' }}\n                                target={background ? \"_blank\" : \"_self\"} rel=\"noopener noreferrer\"\n                                className={styles.ingredient_link}\n                            >\n                                <img className={styles.ingredient_img} src={item.image_mobile} alt={item.name} />\n                                <p className={styles.ingredient_name}>\n                                    {item.name}\n                                </p>\n                                <p className={styles.price_wrapper} >\n                                    <span className={styles.price} >\n                                        {item.type === 'bun' ? `2\\u00A0x\\u00A0${item.price}` : `1\\u00A0x\\u00A0${item.price}`}\n                                    </span>\n                                    <CurrencyIcon type=\"primary\" />\n                                </p>\n                            </Link>\n                        </li>\n                    ))\n                }\n            </ul>\n            <div className={styles.footer}>\n                <time className={styles.time}>\n                    {resultData(currentItem.createdAt)}\n                </time>\n                <p className={styles.price_wrapper} >\n                    <span className={styles.price} >\n                        {price}\n                    </span>\n                    <CurrencyIcon type=\"primary\" />\n                </p>\n            </div>\n        </div>\n    );\n}\n\nexport default OrderInfo;","import OrderInfo from \"components/order-info/order-info\";\nimport { useEffect } from 'react';\nimport {\n    WS_CONNECTION_START,\n    wsConnectionClosed\n} from '../../services/actions/ws';\nimport { FC } from \"react\";\nimport { useAppDispatch, useAppSelector } from 'services/hooks';\n\nconst OrderPage: FC = () => {\n    const { ingredientsRequestSuccess, feedOrdersSuccess, profileOrdersSuccess  } = useAppSelector((store) => ({\n        ingredientsRequestSuccess: store.ingredients.ingredientsRequestSuccess,\n        feedOrdersSuccess: store.ws.feedOrdersSuccess,\n        profileOrdersSuccess: store.ws.profileOrdersSuccess\n    }));\n\n    const dispatch = useAppDispatch();\n\n    useEffect((): any => {\n        dispatch({type: WS_CONNECTION_START});\n        return () => dispatch(wsConnectionClosed());\n    }, [dispatch]);\n\n    return (\n        ingredientsRequestSuccess && feedOrdersSuccess && <OrderInfo/>\n    );\n}\n\nexport default OrderPage;","import { AppThunk } from 'index';\nimport { apiURL } from '../../utils/constants';\nimport { AppDispatch } from 'index';\n\nexport const GET_INGREDIENTS: 'GET_INGREDIENTS' = 'GET_INGREDIENTS';\nexport const GET_INGREDIENTS_FAILED: 'GET_INGREDIENTS_FAILED' = 'GET_INGREDIENTS_FAILED';\nexport const GET_INGREDIENTS_SUCCESS: 'GET_INGREDIENTS_SUCCESS' = 'GET_INGREDIENTS_SUCCESS';\nexport const INCREASE_COUNTER: 'INCREASE_COUNTER' = 'INCREASE_COUNTER';\nexport const DECREASE_COUNTER: 'DECREASE_COUNTER' = 'DECREASE_COUNTER';\nexport const RESET_COUNTER: 'RESET_COUNTER' = 'RESET_COUNTER';\n\nexport function getIngredients(): AppThunk {\n    return function (dispatch: AppDispatch) {\n        try {\n            dispatch({\n                type: GET_INGREDIENTS\n            })\n            fetch(`${apiURL}/ingredients`).then(res => {\n                if (res && res.ok) {\n                    return res.json();\n                } else {\n                    dispatch({\n                        type: GET_INGREDIENTS_FAILED\n                    })\n                    return res.json();\n                }\n            }).then((json) => {\n                dispatch({\n                    type: GET_INGREDIENTS_SUCCESS,\n                    ingredientsData: json.data\n                })\n                return json;\n            }).catch(err => {\n                dispatch({\n                    type: GET_INGREDIENTS_FAILED\n                })\n                return err;\n            })\n        } catch (err) {\n            console.log(err);\n        }\n    }\n}","import styles from './app.module.css';\nimport AppHeader from '../app-header/app-header';\nimport { Route, Switch, useLocation, useHistory } from 'react-router-dom';\nimport ProtectedRoute from '../protected-route/protected-route';\nimport LoggedRoute from '../logged-route/logged-route';\nimport {\n  LoginPage,\n  MainPage,\n  NotFoundPage,\n  RegPage,\n  ProfilePage,\n  IngredientPage,\n  ForgotPassPage,\n  OrdersPage,\n  FeedPage,\n  OrderPage\n} from '../../pages';\n\nimport { useEffect, FC } from 'react';\nimport { getUser } from '../../services/actions/login';\nimport { getIngredients } from '../../services/actions/ingredients';\nimport Modal from '../modal/modal';\nimport IngredientDetails from '../ingredient-details/ingredient-details';\nimport OrderInfo from '../order-info/order-info'\nimport { TLocation } from 'types';\nimport { useAppDispatch } from 'services/hooks';\n\nconst App: FC = () => {\n  const dispatch = useAppDispatch();\n  const location = useLocation<TLocation>();\n  const history = useHistory();\n  let background = history.action === 'PUSH' && location.state && location.state.background;\n\n  useEffect(() => {\n    dispatch(getUser());\n    dispatch(getIngredients());\n  }, [dispatch]);\n\n  return (\n    <div className=\"app\">\n      <AppHeader />\n      <main className={styles.main}>\n        <Switch location={background || location}>\n          <LoggedRoute path=\"/login\" exact>\n            <LoginPage />\n          </LoggedRoute>\n          <LoggedRoute path=\"/register\" exact>\n            <RegPage />\n          </LoggedRoute>\n          <LoggedRoute path=\"/forgot-password\" exact>\n            <ForgotPassPage />\n          </LoggedRoute>\n          <LoggedRoute path=\"/reset-password\" exact>\n            <ForgotPassPage />\n          </LoggedRoute>\n          <ProtectedRoute path=\"/profile\" exact>\n            <ProfilePage />\n          </ProtectedRoute>\n          <ProtectedRoute path=\"/profile/orders\" exact>\n            <OrdersPage />\n          </ProtectedRoute>\n          <ProtectedRoute path=\"/profile/orders/:id\" exact>\n            <OrderPage />\n          </ProtectedRoute>\n          <Route path=\"/ingredients/:id\" exact>\n            <IngredientPage />\n          </Route>\n          <Route path=\"/feed/:id\" exact>\n            <OrderPage />\n          </Route>\n          <Route path=\"/feed\" exact>\n            <FeedPage />\n          </Route>\n          <Route path=\"/\" exact>\n            <MainPage />\n          </Route>\n          <Route>\n            <NotFoundPage />\n          </Route>\n        </Switch>\n\n        {background && (\n          <Route path='/ingredients/:id' children={\n            <Modal>\n              <IngredientDetails />\n            </Modal>\n          } />\n        )}\n\n        {background && (\n          <Route path='/feed/:id' children={\n            <Modal>\n              <OrderInfo />\n            </Modal>\n          } />\n        )}\n\n        {background && (\n          <ProtectedRoute path='/profile/orders/:id' children={\n            <Modal>\n              <OrderInfo />\n            </Modal>\n          } />\n        )}\n      </main>\n    </div >\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\n    GET_INGREDIENTS,\n    GET_INGREDIENTS_FAILED,\n    GET_INGREDIENTS_SUCCESS,\n    INCREASE_COUNTER,\n    DECREASE_COUNTER,\n    RESET_COUNTER\n} from '../actions/ingredients';\nimport { TIngredient } from 'types';\n\ninterface IinitialState {\n    ingredientsRequest: boolean,\n    ingredientsRequestSuccess: boolean,\n    ingredientsFailed: boolean,\n    ingredientsData: TIngredient[] | [];\n}\n\nconst initialState: IinitialState = {\n    ingredientsRequest: false,\n    ingredientsRequestSuccess: false,\n    ingredientsFailed: false,\n    ingredientsData: []\n}\n\nconst resetCounters = (data: TIngredient[]) => {\n    return data.map((item) => {\n        item.__v = 0;\n        return item\n    });\n};\n\nconst changeCounter = (data: TIngredient[], elem: TIngredient, option: string) => {\n    return data.map((item: TIngredient) => {\n        if (elem._id === item._id) {\n            option === 'plus' ? item.__v += 1 : item.__v -= 1;\n        }\n        return item;\n    });\n};\n\nexport const ingredientsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case GET_INGREDIENTS: {\n            return {\n                ...state,\n                ingredientsRequest: true,\n                ingredientsFailed: false,\n                ingredientsRequestSuccess: false\n            };\n        }\n        case GET_INGREDIENTS_SUCCESS: {\n            return {\n                ...state,\n                ingredientsData: action.ingredientsData,\n                ingredientsRequest: false,\n                ingredientsRequestSuccess: true\n            };\n        }\n        case GET_INGREDIENTS_FAILED: {\n            return {\n                ...state,\n                ingredientsFailed: true,\n                ingredientsRequest: false,\n                ingredientsRequestSuccess: false\n            };\n        }\n        case INCREASE_COUNTER: {\n            return {\n                ...state,\n                ingredientsData: changeCounter(state.ingredientsData, action.ingredient, 'plus'),\n            };\n        }\n        case DECREASE_COUNTER: {\n            return {\n                ...state,\n                ingredientsData: changeCounter(state.ingredientsData, action.ingredient, 'minus'),\n            };\n        }\n        case RESET_COUNTER: {\n            return {\n                ...state,\n                ingredientsData: resetCounters(state.ingredientsData)\n            };\n        }\n        default: {\n            return state\n        }\n    }\n}","import {\n    OPEN_MODAL,\n    LOADING_MODAL,\n    CLOSE_MODAL\n} from '../actions/modal';\nimport { TIngredient } from 'types';\nimport { TOrder } from 'types';\n\ninterface IinitialState {\n    modalIsOpened: boolean,\n    modalIsLoading: boolean,\n    ingredientDetails: TIngredient | {},\n    orderDetails: TOrder | {},\n}\n\nconst initialState: IinitialState = {\n    modalIsOpened: false,\n    modalIsLoading: false,\n    ingredientDetails: {},\n    orderDetails: {},\n}\n\nexport const modalReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case OPEN_MODAL: {\n            return {\n                ...state,\n                modalIsOpened: true,\n                modalIsLoading: false,\n                ingredientDetails: action.ingredientDetails ? action.ingredientDetails : undefined,\n                orderDetails: action.orderDetails ? action.orderDetails : undefined,\n            };\n        }\n        case LOADING_MODAL: {\n            return {\n                ...state,\n                modalIsLoading: true\n            };\n        }\n        case CLOSE_MODAL: {\n            return {\n                ...state,\n                modalIsOpened: false,\n                modalIsLoading: false,\n                ingredientDetails: {},\n            };\n        }\n        default: {\n            return state\n        }\n    }\n}","import {\n    ADD_ITEM_TO_ORDER,\n    REMOVE_ITEM_FROM_ORDER,\n    CLEAR_ORDER_ITEMS,\n    ADD_FULL_ORDER_LIST\n} from '../actions/order';\nimport { TOrder } from 'types';\ninterface IinitialState {\n    orderItems: TOrder[] | [],\n}\nconst initialState: IinitialState = {\n    orderItems: []\n}\n\nexport const orderReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_ITEM_TO_ORDER: {\n            return {\n                orderItems: [...state.orderItems, action.orderItems],\n            };\n        }\n        case REMOVE_ITEM_FROM_ORDER: {\n            const removeItemOnce = (arr: TOrder[], value: TOrder) => {\n                const index = arr.indexOf(value);\n                if (index > -1) {\n                    arr.splice(index, 1);\n                }\n                return arr;\n            }\n            return {\n                orderItems: removeItemOnce(state.orderItems, action.orderItems),\n            };\n        }\n        case CLEAR_ORDER_ITEMS: {\n            return {\n                orderItems: []\n            };\n        }\n        case ADD_FULL_ORDER_LIST: {\n            return {\n                ...state,\n                orderItems: action.orderItems\n            };\n        }\n        default: {\n            return state\n        }\n    }\n}","import {\n    LOGIN_USER,\n    LOGOUT_USER,\n    REGISTRATION_USER_SUCCESS\n} from '../actions/login';\n\ninterface IinitialState {\n    userLogged: boolean,\n    regUserSuccess: boolean,\n    user: {\n        name: string;\n        email: string;\n    }\n}\n\nconst initialState: IinitialState = {\n    userLogged: false,\n    regUserSuccess: false,\n    user: {\n        name: '',\n        email: '',\n    }\n}\n\nexport const loginReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case LOGIN_USER: {\n            return {\n                ...state,\n                userLogged: true,\n                user: {\n                    name: action.name,\n                    email: action.email\n                }\n            };\n        }\n        case LOGOUT_USER: {\n            return {\n                ...state,\n                userLogged: false,\n                user: {\n                    name: '',\n                    email: '',\n                },\n                regUserSuccess: false\n            };\n        }\n        case REGISTRATION_USER_SUCCESS: {\n            return {\n                ...state,\n                regUserSuccess: true\n            };\n        }\n        default: {\n            return state\n        }\n    }\n}","import {\n    WS_CONNECTION_SUCCESS,\n    WS_CONNECTION_ERROR,\n    WS_CONNECTION_CLOSED,\n    WS_CONNECTION_GET_FEED_ORDERS,\n    WS_CONNECTION_GET_USER_ORDERS\n} from '../actions/ws';\nimport { TOrder } from 'types';\n\ninterface IinitialState {\n    wsConnected: boolean,\n    feedOrdersSuccess: boolean,\n    profileOrdersSuccess: boolean,\n    feedOrders: TOrder[],\n    profileOrders: TOrder[],\n    total: null | number,\n    totalToday: null | number\n}\n\nconst initialState: IinitialState = {\n    wsConnected: false,\n    feedOrdersSuccess: false,\n    profileOrdersSuccess: false,\n    feedOrders: [],\n    profileOrders: [],\n    total: null,\n    totalToday: null,\n};\n\nconst sortingByDate = (a: TOrder, b: TOrder): number => {\n    const result = new Date(b.createdAt).valueOf() - new Date(a.createdAt).valueOf()\n    return result;\n}\n\nexport const wsReducer = (state = initialState, action): any => {\n    switch (action.type) {\n        case WS_CONNECTION_SUCCESS: {\n            return {\n                ...state,\n                wsConnected: true,\n                feedOrdersSuccess: false,\n                profileOrdersSuccess: false\n            }\n        }\n        case WS_CONNECTION_ERROR: {\n            return {\n                initialState\n            };\n        }\n        case WS_CONNECTION_CLOSED: {\n            return {\n                ...state,\n                wsConnected: false,\n                feedOrdersSuccess: false,\n                profileOrdersSuccess: false\n            };\n        }\n        case WS_CONNECTION_GET_FEED_ORDERS: {\n            return {\n                ...state,\n                feedOrders: action.payload.orders?.sort(sortingByDate),\n                total: action.payload.total,\n                totalToday: action.payload.totalToday,\n                feedOrdersSuccess: true,\n            }\n        }\n        case WS_CONNECTION_GET_USER_ORDERS: {\n            return {\n                ...state,\n                profileOrders: action.payload.orders?.sort(sortingByDate),\n                total: action.payload.total,\n                totalToday: action.payload.totalToday,\n                profileOrdersSuccess: true,\n            }\n        }\n        default: {\n            return state;\n        }\n    }\n}","import { combineReducers } from 'redux';\nimport { ingredientsReducer } from './ingredients';\nimport { modalReducer } from './modal';\nimport { orderReducer } from './order';\nimport { loginReducer } from './login';\nimport { wsReducer } from './ws';\n\nexport const rootReducer = combineReducers({\n    ingredients: ingredientsReducer,\n    modal: modalReducer,\n    order: orderReducer,\n    login: loginReducer,\n    ws: wsReducer\n})","import { getCookie } from \"../../utils/cookie\";\nimport { wsActions } from \"../../index\";\n\nexport const wsMiddleware = (url: string, actions: typeof wsActions, token: boolean = false) => {\n    return store => {\n\n        let socket = null;\n\n        return next => (action) => {\n            const { dispatch } = store;\n\n            const { type, payload } = action;\n\n            const {\n                wsInit,\n                wsInitProfile,\n                wsSendMessage,\n                onOpen,\n                onClose,\n                onError,\n                getFeedOrders,\n                getProfileOrders\n            } = actions;\n\n            const accessToken = getCookie('token')?.split('Bearer ')[1];\n\n            if (type === wsInitProfile && accessToken && token) {\n                socket = new WebSocket(`${url}?token=${accessToken}`);\n            }\n            if (type === wsInit && !token) {\n                socket = new WebSocket(`${url}`);\n            }\n            if (socket) {\n                socket.onopen = (event) => {\n                    dispatch({ type: onOpen, payload: event });\n                }\n\n                socket.onerror = (event) => {\n                    dispatch({ type: onError, payload: event });\n                }\n\n                socket.onmessage = (event) => {\n                    const { data } = event;\n                    const parsedData = JSON.parse(data);\n                    const { success, ...restParsedData } = parsedData;\n\n                    if (token) {\n                        dispatch({\n                            type: getProfileOrders,\n                            payload: restParsedData\n                        });\n                    }\n                    if (!token) {\n                        dispatch({\n                            type: getFeedOrders,\n                            payload: restParsedData\n                        });\n                    }\n                }\n\n                socket.onclose = (event) => {\n                    dispatch({ type: onClose, payload: event });\n                };\n\n                if (type === wsSendMessage && accessToken) {\n                    const message = { payload, token: accessToken };\n                    socket.send(JSON.stringify(message))\n                }\n            }\n\n            next(action);\n        }\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/app';\nimport reportWebVitals from './reportWebVitals';\nimport { createStore, applyMiddleware, AnyAction } from 'redux';\nimport { Provider } from 'react-redux';\nimport { rootReducer } from './services/reducers';\nimport thunk, { ThunkAction } from 'redux-thunk';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { wsMiddleware } from './services/middleware/ws-middleware';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport {\n  WS_CONNECTION_CLOSED,\n  WS_CONNECTION_ERROR,\n  WS_CONNECTION_START,\n  WS_USER_CONNECTION_START,\n  WS_CONNECTION_SUCCESS,\n  WS_CONNECTION_GET_FEED_ORDERS,\n  WS_CONNECTION_GET_USER_ORDERS,\n  WS_SEND_MESSAGE\n} from './services/actions/ws';\n\nimport { wsUrl } from 'utils/constants';\nimport { wsUserUrl } from 'utils/constants';\n\nexport const wsActions = {\n  wsInit: WS_CONNECTION_START,\n  wsInitProfile: WS_USER_CONNECTION_START,\n  wsSendMessage: WS_SEND_MESSAGE,\n  onOpen: WS_CONNECTION_SUCCESS,\n  onClose: WS_CONNECTION_CLOSED,\n  onError: WS_CONNECTION_ERROR,\n  getFeedOrders: WS_CONNECTION_GET_FEED_ORDERS,\n  getProfileOrders: WS_CONNECTION_GET_USER_ORDERS,\n};\n\nconst wsFeedOrdersMiddleware = wsMiddleware(wsUrl, wsActions);\nconst wsProfileOrdersMiddleware = wsMiddleware(wsUserUrl, wsActions, true)\n\nconst enhancer = composeWithDevTools(applyMiddleware(\n  thunk,\n  wsFeedOrdersMiddleware,\n  wsProfileOrdersMiddleware\n));\n\nconst store = createStore(rootReducer, enhancer);\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\nexport type AppThunk<ReturnType = void> = ThunkAction<ReturnType, RootState, unknown, AnyAction>;\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename=\"/react-burger\">\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__1iHLW\",\"header__nav\":\"app-header_header__nav__1wJFs\",\"header__nav-item\":\"app-header_header__nav-item__15QFS mr-2\",\"header__nav-item--active\":\"app-header_header__nav-item--active__3BSos\",\"header__nav-item--logo\":\"app-header_header__nav-item--logo__3LIEK\",\"header__logo-mobile\":\"app-header_header__logo-mobile__2dIH1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"orders-table_wrapper__2JA0q\",\"status_block\":\"orders-table_status_block__30IsW\",\"total\":\"orders-table_total__2C3D6\",\"column\":\"orders-table_column__9tY49\",\"items\":\"orders-table_items__37aJf\",\"total_block\":\"orders-table_total_block__3EyHv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"login_wrapper__1qEM9\",\"form\":\"login_form__3DD6c mb-20\",\"heading\":\"login_heading__2cWSn mb-6\",\"input_container\":\"login_input_container__20Fyv pl-6 pr-6 mb-6\",\"input_control\":\"login_input_control__29gtM pl-6\",\"button\":\"login_button__1W8bK\",\"text\":\"login_text__3nYhP text text_type_main-default mb-4\",\"link\":\"login_link__2bcVJ\",\"error\":\"login_error__2R0VM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger__head\":\"burger-constructor_burger__head__bBZGH mb-4 pr-2\",\"burger__item\":\"burger-constructor_burger__item__3MML1 ml-2\",\"burger__footer\":\"burger-constructor_burger__footer__20HmM mt-4 pr-2\",\"burger__list\":\"burger-constructor_burger__list__-z5Dh\",\"burger__order\":\"burger-constructor_burger__order__1c4xB pr-2 mt-10 mb-10\",\"burger__amount\":\"burger-constructor_burger__amount__3ElCz mr-10\",\"loading\":\"burger-constructor_loading__1N9Tr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"profile-nav_wrapper__Nxcw5 mr-15\",\"nav\":\"profile-nav_nav__2gyI3 text text_type_main-medium mb-20\",\"link\":\"profile-nav_link__w_RXu\",\"active\":\"profile-nav_active__1TBx4\",\"text\":\"profile-nav_text__wDH3k text text_type_main-default\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"head\":\"feed_head__2x9Z0 text text_type_main-large mt-10 mb-10\",\"main__contents\":\"feed_main__contents__vUSRR\",\"main__content\":\"feed_main__content__omdPX\",\"main__feed_list\":\"feed_main__feed_list__2MZK1\",\"list__item\":\"feed_list__item__2axlU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order\":\"order-details_order__12ZdD pt-30 pb-30\",\"order__id\":\"order-details_order__id__2hlBv text text_type_digits-large mb-8\",\"order__id-text\":\"order-details_order__id-text__2S1FV text text_type_main-default\",\"order__done-img\":\"order-details_order__done-img__3mO0g mt-15 mb-15\",\"order__bottom-text\":\"order-details_order__bottom-text__3lBPQ text text_type_main-default\",\"order__bottom-text--last\":\"order-details_order__bottom-text--last__1cxb0 mt-2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main__content-items\":\"main_main__content-items__1fQr1\",\"main__content-item\":\"main_main__content-item__3hXm3\",\"main__loading\":\"main_main__loading__1BXx7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"register_wrapper__29oUW\",\"form\":\"register_form__16uRP mb-20\",\"heading\":\"register_heading__2cg5G mb-6\",\"button\":\"register_button__2v5ip\",\"text\":\"register_text__2d3To text text_type_main-default mb-4\",\"link\":\"register_link__2XLtm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient\":\"burger-ingredient_ingredient__3hiRO mt-6 mb-10 pr-3 pl-3\",\"ingredient__image\":\"burger-ingredient_ingredient__image__vx_bN ml-4 mr-4 mb-1\",\"ingredient__price\":\"burger-ingredient_ingredient__price__Zb6Pu text_type_main-medium text mb-1\",\"ingredient__name\":\"burger-ingredient_ingredient__name__1XA3f text_type_main-default text\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"orders_wrapper__Qws8v\",\"main__content\":\"orders_main__content__3C4b4\",\"main__feed_list\":\"orders_main__feed_list__3ViDk\",\"main__loading\":\"orders_main__loading__3w364\",\"list__item\":\"orders_list__item__3ZGm8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1DF1f\",\"modal__close-btn\":\"modal_modal__close-btn__1tiJz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user_info\":\"user-profile_user_info__38MHQ ml-15\"};"],"sourceRoot":""}