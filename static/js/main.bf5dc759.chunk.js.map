{"version":3,"sources":["components/app/app.module.css","components/modal-overlay/modal-overlay.module.css","pages/profile/profile.module.css","components/ingredient-details/ingredient-details.module.css","components/order-info/order-info.module.css","components/burger-ingredients/burger-ingredients.module.css","pages/forgot-password/forgot-password.module.css","components/feed-item/feed-item.module.css","images/logo.svg","components/app-header/app-header.js","components/protected-route/protected-route.js","components/logged-route/logged-route.js","utils/constants.js","utils/cookie.js","services/api.js","services/actions/login.js","pages/login/login.js","components/modal-overlay/modal-overlay.js","components/modal/modal.js","images/done.svg","components/order-details/order-details.js","services/actions/order.js","components/burger-constructor/burger-constructor.js","components/burger-ingredient/burger-ingredient.js","components/burger-ingredients/burger-ingredients.js","pages/main/main.js","pages/404-not-found/404-not-found.js","pages/register/register.js","components/user-profile/user-profile.js","components/profile-nav/profile-nav.js","pages/profile/profile.js","pages/forgot-password/forgot-password.js","utils/formate-date.js","components/feed-item/feed-item.js","services/actions/ws.js","pages/orders/orders.js","components/ingredient-details/ingredient-details.js","pages/igredient/igredient.js","components/orders-table/orders-table.js","pages/feed/feed.js","components/order-info/order-info.js","pages/order/order.js","services/actions/ingredients.js","components/app/app.js","reportWebVitals.ts","services/reducers/ingredients.js","services/actions/modal.js","services/reducers/modal.js","services/reducers/order.js","services/reducers/login.js","services/reducers/ws.js","services/reducers/index.js","services/middleware/ws-middleware.js","index.tsx","components/app-header/app-header.module.css","components/orders-table/orders-table.module.css","pages/login/login.module.css","components/burger-constructor/burger-constructor.module.css","components/profile-nav/profile-nav.module.css","pages/feed/feed.module.css","components/order-details/order-details.module.css","pages/main/main.module.css","pages/register/register.module.css","components/burger-ingredient/burger-ingredient.module.css","pages/orders/orders.module.css","components/modal/modal.module.css","components/user-profile/user-profile.module.css"],"names":["module","exports","AppHeader","className","styles","header","to","activeClassName","exact","src","mobileLogo","alt","type","size","ProtectedRoute","children","rest","userLogged","useSelector","store","login","render","location","pathname","state","from","LoggedRoute","useLocation","apiURL","setCookie","name","value","props","exp","expires","d","Date","setTime","getTime","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","document","cookie","getCookie","matches","match","RegExp","replace","decodeURIComponent","undefined","loginRequest","formData","a","fetch","method","mode","cache","credentials","headers","redirect","referrerPolicy","body","JSON","stringify","then","res","json","accessToken","catch","err","console","log","message","Promise","reject","logoutRequest","token","localStorage","getItem","registerRequest","getUserRequest","authorization","updateUserRequest","forgotPassRequest","email","newPassRequest","refreshTokenRequest","after","args","refreshToken","success","setItem","Error","LOGIN_USER","LOGOUT_USER","register","ok","alert","updateUser","dispatch","user","LoginPage","useDispatch","useState","password","setFormData","onChange","e","target","passwordRef","useRef","emailRef","useEffect","current","setAttribute","isShowPass","setPass","wrapper","form","onSubmit","preventDefault","heading","ref","placeholder","onIconClick","icon","button","text","link","ModalOverlay","history","useHistory","node","React","modalRoot","getElementById","closeWithEscape","keyCode","goBack","style","overflow","addEventListener","removeEventListener","ReactDOM","createPortal","overlay","onClick","closeWithClick","Modal","close","modal","OrderDetails","orderDetails","order","number","done","width","height","ADD_ITEM_TO_ORDER","REMOVE_ITEM_FROM_ORDER","CLEAR_ORDER_ITEMS","ADD_FULL_ORDER_LIST","sendResource","url","data","response","status","error","GetBurgerElem","elem","index","lock","position","moveIngredient","useDrop","accept","hover","item","monitor","dragIndex","hoverIndex","hoverBoundingRect","getBoundingClientRect","hoverMiddleY","bottom","top","hoverClientY","getClientOffset","y","drop","useDrag","collect","isDragging","opacity","drag","burger__item","thumbnail","image_mobile","isLocked","price","handleClose","orderItems","ingredient","delElem","BurgerConstructor","modalIsOpened","modalIsLoading","ingredientsData","ingredients","amount","setAmount","dragIngredient","newOrderItems","splice","itemId","find","i","_id","map","dropToCart","isDragOver","isOver","dropTarget","border","reduce","acc","burger","burger__head","burger__list","burger__footer","burger__order","burger__amount","sendData","bun","push","loading","BurgerIngredient","memo","isDrag","dragRef","__v","count","ingredient__image","image","ingredient__price","ingredient__name","BurgerIngredients","ingredientsRequest","ingredientsFailed","setCurrent","scrollContainerRef","buns","sauces","toppings","scrollOptions","block","behavior","scrollTo","scrollIntoView","ingredients__tabs","active","ingredients__content","onScroll","scrollContainerPosition","firstHeaderPosition","secondHeaderPosition","thirdHeaderPosition","firstDiff","Math","abs","secondDiff","thirdDiff","ingredients__head","ingredients__items","ingredientDetails","background","textDecoration","MainPage","container","head","DndProvider","backend","HTML5Backend","NotFoundPage","RegPage","UserProfile","isChanged","setChanged","usernameRef","user_info","autocomplete","ProfileNav","nav","removeItem","ProfilePage","ForgotPassPage","setEmail","isVerification","setVerification","hasError","setHasError","errorMessage","setErrorMessage","hasSuccess","setHasSuccess","onChangePass","onSubmitReset","resultData","rowDate","formattedDate","toLocaleString","hour","minute","timeZoneName","date","today","setHours","dayDiff","setDay","FeedItem","createdAt","filteredIngredients","element","prevValue","order_item","time","title","color","list_wrapper","ingredinet","length","more","img","price__wrapper","WS_CONNECTION_SUCCESS","WS_CONNECTION_ERROR","WS_CONNECTION_CLOSED","WS_CONNECTION_START","WS_USER_CONNECTION_START","WS_SEND_MESSAGE","WS_CONNECTION_GET_FEED_ORDERS","WS_CONNECTION_GET_USER_ORDERS","wsConnectionClosed","OrdersPage","ingredientsRequestSuccess","profileOrders","ws","getOrdersSuccess","main__content","main__feed_list","list__item","IngredientDetails","id","useParams","currentIngredient","details","image_large","calories","proteins","fat","carbohydrates","IngredientPage","OrdersTable","feedOrders","total","totalToday","doneItems","filter","pendingItems","status_block","column","items","total_block","FeedPage","main__contents","OrderInfo","action","currentItem","parseInt","compound","ingredient_item","rel","ingredient_link","ingredient_img","ingredient_name","price_wrapper","footer","OrderPage","GET_INGREDIENTS","GET_INGREDIENTS_FAILED","GET_INGREDIENTS_SUCCESS","INCREASE_COUNTER","DECREASE_COUNTER","RESET_COUNTER","App","main","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","resetCounters","changeCounter","option","OPEN_MODAL","CLOSE_MODAL","LOADING_MODAL","sortingByDate","b","wsConnected","rootReducer","combineReducers","removeItemOnce","arr","indexOf","payload","orders","sort","wsMiddleware","actions","socket","next","wsInit","wsInitProfile","wsSendMessage","onOpen","onClose","onError","getFeedOrders","getProfileOrders","split","WebSocket","onopen","event","onerror","onmessage","parsedData","parse","restParsedData","onclose","send","wsActions","wsFeedOrdersMiddleware","wsProfileOrdersMiddleware","enhancer","composeWithDevTools","applyMiddleware","thunk","createStore","StrictMode"],"mappings":"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","file":"static/js/main.bf5dc759.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"app_main__3yfFw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"modal-overlay_overlay__AKixE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"profile_wrapper__1Oz3z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"ingredient-details_details__uP6-A\",\"details__header\":\"ingredient-details_details__header__3JXEn mt-10 mr-10 mb-0 ml-10 text text_type_main-large\",\"details__name\":\"ingredient-details_details__name__3NL6Y mt-4 mb-8 text text_type_main-medium\",\"details__list\":\"ingredient-details_details__list__1PDGS\",\"details__list-item\":\"ingredient-details_details__list-item__2J6yZ\",\"details__item-text\":\"ingredient-details_details__item-text__1SIHY text text_type_main-default\",\"details__item-text--data\":\"ingredient-details_details__item-text--data__3G9aC text text_type_digits-default\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"order-info_wrapper__M8UYs\",\"number\":\"order-info_number__osrir text text_type_digits-default\",\"name\":\"order-info_name__AKC9Z text_type_main-medium text mt-5 mb-2\",\"status\":\"order-info_status__wcc9g text text_type_main-default\",\"compound\":\"order-info_compound__1Vg6D text_type_main-medium text mb-2\",\"ingredients\":\"order-info_ingredients__2nbzc\",\"ingredient_link\":\"order-info_ingredient_link___LQ8Q\",\"ingredient_img\":\"order-info_ingredient_img__WcxWC\",\"ingredient_name\":\"order-info_ingredient_name__3-wy2 text text_type_main-default\",\"footer\":\"order-info_footer__2VeuG\",\"time\":\"order-info_time__1eO6f text_type_main-default\",\"price_wrapper\":\"order-info_price_wrapper__deFMb\",\"price\":\"order-info_price__sNxEd text text_type_digits-default\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredients__tabs\":\"burger-ingredients_ingredients__tabs__2tZX_ mb-10\",\"ingredients__head\":\"burger-ingredients_ingredients__head__3K9zN mb-6\",\"ingredients__items\":\"burger-ingredients_ingredients__items__2Zkfp mb-10\",\"ingredients__item-wrapper\":\"burger-ingredients_ingredients__item-wrapper__2Jpmz\",\"ingredients__content\":\"burger-ingredients_ingredients__content__2BDf4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"forgot-password_wrapper__2AMTz\",\"form\":\"forgot-password_form__2i2rR mb-20\",\"heading\":\"forgot-password_heading__-MowK mb-6\",\"button\":\"forgot-password_button__zWl4U\",\"text\":\"forgot-password_text__3EeAQ text text_type_main-default mb-4\",\"link\":\"forgot-password_link__1xRFL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order_item\":\"feed-item_order_item__3WYek mt-4 p-6\",\"header\":\"feed-item_header__2qw6H mb-6\",\"number\":\"feed-item_number__38D3G text_type_digits-default\",\"time\":\"feed-item_time__2sbb_ text_type_main-default\",\"title\":\"feed-item_title__-1jAN text_type_main-medium text mb-2\",\"status\":\"feed-item_status__16AsY text text_type_main-default mb-6\",\"list_wrapper\":\"feed-item_list_wrapper__1fn_F\",\"ingredients\":\"feed-item_ingredients__2bz34 list-reset\",\"more\":\"feed-item_more__3q3sG text_type_main-default\",\"ingredinet\":\"feed-item_ingredinet__1okTB\",\"img\":\"feed-item_img__lTYf6\",\"price__wrapper\":\"feed-item_price__wrapper__3QpmP\",\"price\":\"feed-item_price__29yPN text text_type_digits-default\"};","export default __webpack_public_path__ + \"static/media/logo.67e4af8a.svg\";","import styles from './app-header.module.css';\nimport { Logo, BurgerIcon, ListIcon, ProfileIcon, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport mobileLogo from '../../images/logo.svg';\nimport { NavLink } from 'react-router-dom';\n\nconst AppHeader = () => {\n    return (\n        <header className={styles.header}>\n            <nav className={`${styles['header__nav']} pt-4 pb-4`}>\n                <NavLink to=\"/\" className={`${styles['header__nav-item']} ${styles['header__nav-item--logo']}`} activeClassName={`${styles['header__nav-item--active']}`} exact>\n                    <Logo />\n                    <img className={styles['header__logo-mobile']} src={mobileLogo} alt=\"React Burger Logo\" />\n                </NavLink>\n                <NavLink to=\"/\" className={`${styles['header__nav-item']}`} activeClassName={`${styles['header__nav-item--active']}`} exact>\n                    <Button type=\"secondary\" size=\"medium\">\n                        <BurgerIcon />\n                        <span className=\"ml-2\" >Конструктор</span>\n                    </Button>\n                </NavLink>\n                <NavLink to=\"/feed\" className={styles['header__nav-item']} activeClassName={`${styles['header__nav-item--active']}`}>\n                    <Button type=\"secondary\" size=\"medium\">\n                        <ListIcon />\n                        <span className=\"ml-2\">Лента&nbsp;заказов</span>\n                    </Button>\n                </NavLink>\n                <NavLink to=\"/profile\" className={styles['header__nav-item']} activeClassName={`${styles['header__nav-item--active']}`}>\n                    <Button type=\"secondary\" size=\"medium\">\n                        <ProfileIcon />\n                        <span className=\"ml-2\">Личный&nbsp;кабинет</span>\n                    </Button>\n                </NavLink>\n            </nav>\n        </header>\n    );\n}\n\nexport default AppHeader;","import PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\n\nconst ProtectedRoute = ({ children, ...rest }) => {\n    const { userLogged } = useSelector(store => ({\n        userLogged: store.login.userLogged\n    }));\n\n    return (\n        <Route\n            {...rest}\n            render={({ location }) => {\n                return userLogged ? children :\n                    <Redirect to={{\n                        pathname: '/login',\n                        state: { from: location }\n                    }} />;\n            }}\n        />\n    );\n};\n\nexport default ProtectedRoute;\n\nProtectedRoute.propTypes = {\n    children: PropTypes.element.isRequired\n}","import PropTypes from 'prop-types';\nimport { useSelector } from 'react-redux';\nimport { Route, Redirect, useLocation } from 'react-router-dom';\n\nconst LoggedRoute = ({ children, ...rest }) => {\n    const { userLogged } = useSelector(store => ({\n        userLogged: store.login.userLogged\n    }));\n    const location = useLocation();\n    const { from } = location.state || { from: { pathname: '/' } };\n    return (\n        <Route\n            {...rest}\n            render={() => {\n                return !userLogged ? children : <Redirect to={from} />\n            }}\n        />\n    );\n};\n\nexport default LoggedRoute;\n\nLoggedRoute.propTypes = {\n    children: PropTypes.element\n}","export const apiURL = 'https://norma.nomoreparties.space/api';\nexport const wsUrl = 'wss://norma.nomoreparties.space/orders/all';\nexport const wsUserUrl = 'wss://norma.nomoreparties.space/orders';","export function setCookie(name, value, props) {\n    props = props || {};\n    let exp = props.expires;\n    if (typeof exp == 'number' && exp) {\n        const d = new Date();\n        d.setTime(d.getTime() + exp * 1000);\n        exp = props.expires = d;\n    }\n    if (exp && exp.toUTCString) {\n        props.expires = exp.toUTCString();\n    }\n    value = encodeURIComponent(value);\n    let updatedCookie = name + '=' + value;\n    for (const propName in props) {\n        updatedCookie += '; ' + propName;\n        const propValue = props[propName];\n        if (propValue !== true) {\n            updatedCookie += '=' + propValue;\n        }\n    }\n    document.cookie = updatedCookie;\n}\n\nexport function getCookie(name) {\n    const matches = document.cookie.match(\n        new RegExp('(?:^|; )' + name.replace(/([.$?*|{}()[]\\/\\+^])/g, '$1') + '=([^;]*)')\n    );\n    return matches ? decodeURIComponent(matches[1]) : undefined;\n}","import { apiURL } from '../utils/constants';\nimport { setCookie, getCookie } from '../utils/cookie';\n\nexport const loginRequest = async formData => {\n    try {\n        const res = await fetch(`${apiURL}/auth/login`, {\n            method: 'POST',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer',\n            body: JSON.stringify(formData)\n        }).then(res => res.json()).then(json => {\n            setCookie('token', json.accessToken);\n            return json;\n        }).catch(err => err);\n        return res;\n    } catch (error) {\n        console.log(error.message)\n        return Promise.reject(error.message)\n    }\n};\n\nexport const logoutRequest = async () => {\n    try {\n        const res = await fetch(`${apiURL}/auth/logout`, {\n            method: 'POST',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer',\n            body: JSON.stringify({\n                token: localStorage.getItem('refreshToken')\n            })\n        }).then(res => res.json()).then(json => json).catch(err => err);\n        setCookie('token', '');\n        return res;\n    } catch (error) {\n        console.log(error.message)\n        return Promise.reject(error.message)\n    }\n};\n\nexport const registerRequest = async formData => {\n    try {\n        return await fetch(`${apiURL}/auth/register`, {\n            method: 'POST',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer',\n            body: JSON.stringify(formData)\n        }).then(res => res.json()).then(json => json).catch(err => err);;\n    } catch (error) {\n        console.log(error.message)\n        return Promise.reject(error.message)\n    }\n};\n\nexport const getUserRequest = async () => {\n    try {\n        return await fetch(`${apiURL}/auth/user`, {\n            method: 'GET',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json',\n                authorization: getCookie('token'),\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer'\n        }).then(res => res.json()).then(json => json).catch(err => err);\n    } catch (error) {\n        console.log(error.message)\n        return Promise.reject(error.message)\n    }\n};\n\nexport const updateUserRequest = async formData => {\n    try {\n        const res = await fetch(`${apiURL}/auth/user`, {\n            method: 'PATCH',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json',\n                authorization: getCookie('token'),\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer',\n            body: JSON.stringify(formData),\n        }).then(res => res.json()).then(json => json).catch(err => err);\n        return res;\n    } catch (error) {\n        console.log(error.message)\n        return Promise.reject(error.message)\n    }\n};\n\nexport const forgotPassRequest = async email => {\n    try {\n        const res = await fetch(`${apiURL}/password-reset`, {\n            method: 'POST',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer',\n            body: JSON.stringify({email}),\n        }).then(res => res.json()).then(json => json).catch(err => err);\n        return res;\n    } catch (error) {\n        console.log(error.message)\n        return Promise.reject(error.message)\n    }\n};\n\nexport const newPassRequest = async formData => {\n    try {\n        const res = await fetch(`${apiURL}/password-reset/reset`, {\n            method: 'POST',\n            mode: 'cors',\n            cache: 'no-cache',\n            credentials: 'same-origin',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            redirect: 'follow',\n            referrerPolicy: 'no-referrer',\n            body: JSON.stringify(formData),\n        }).then(res => res.json()).then(json => json).catch(err => err);\n        return res;\n    } catch (error) {\n        console.log(error.message)\n        return Promise.reject(error.message)\n    }\n};\n\nexport const refreshTokenRequest = async (after, args=null) => {\n    const refreshToken = localStorage.getItem('refreshToken');\n    try {\n      const res = await fetch(`${apiURL}/auth/token`, {\n        method: 'POST',\n        mode: 'cors',\n        cache: 'no-cache',\n        credentials: 'same-origin',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          token: refreshToken,\n        }),\n      }).then(res => res.json()).then(json => json).catch(err => err);\n      if (res.success) {\n          setCookie('token', res.accessToken);\n          localStorage.setItem('token', res.refreshToken);\n          localStorage.setItem('refreshToken', res.accessToken);\n          console.log('token refreshed!');\n          if (after) {\n            return await after(args)\n          }\n      } else {\n        throw new Error(res.message)\n      }\n    } catch (error) {\n        console.log(error.message);\n        return Promise.reject(error.message);\n    }\n  }","import { loginRequest, logoutRequest, registerRequest, getUserRequest, updateUserRequest, refreshTokenRequest } from '../api';\n\nexport const LOGIN_USER = 'LOGIN_USER';\nexport const LOGOUT_USER = 'LOGOUT_USER';\n\nexport const login = (formData) => {\n    return async function (dispatch) {\n        const res = await loginRequest(formData);\n        if (res.success) {\n            localStorage.setItem('token', res.accessToken);\n            localStorage.setItem('refreshToken', res.refreshToken);\n            localStorage.setItem('userName', res.user.name);\n            localStorage.setItem('userEmail', res.user.email);\n            dispatch({\n                type: LOGIN_USER,\n                name: res.user.name,\n                email: res.user.email\n            });\n        } else {\n            alert(res.message)\n        }\n        return res;\n    }\n}\n\nexport const register = (formData) => {\n    return async function () {\n        const res = await registerRequest(formData);\n        if (!res.ok) {\n            alert(res.message)\n        }\n        return res;\n    }\n}\n\nexport const logout = () => {\n    return async function (dispatch) {\n        const res = await logoutRequest();\n        localStorage.removeItem('token');\n        localStorage.removeItem('refreshToken');\n        dispatch({\n            type: LOGOUT_USER\n        });\n        return res;\n    }\n}\n\nexport const getUser = () => {\n    return async function (dispatch) {\n        const res = await getUserRequest();\n        if (res && res.success) {\n            localStorage.setItem('userName', res.user.name);\n            localStorage.setItem('userEmail', res.user.email);\n            dispatch({\n                type: LOGIN_USER,\n                name: res.user.name,\n                email: res.user.email\n            });\n            return res;\n        }\n        if (res.message === 'jwt expired') {\n            console.log(res.message)\n            await refreshTokenRequest(getUserRequest, null)\n            return Promise.reject(res.message)\n        }\n    }\n}\n\nexport const updateUser = (formData) => {\n    return async function (dispatch) {\n        const res = await updateUserRequest(formData);\n        if (res && res.success) {\n            localStorage.setItem('userName', res.user.name);\n            localStorage.setItem('userEmail', res.user.email);\n            dispatch({\n                type: LOGIN_USER,\n                name: res.user.name,\n                email: res.user.email\n            });\n            return res;\n        }\n        if (res.message === 'jwt expired') {\n            console.log(res.message)\n            await refreshTokenRequest(updateUser, formData)\n            return Promise.reject(res.message)\n        }\n    }\n}\n","import { useRef, useState, useEffect } from 'react';\nimport styles from './login.module.css';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Input, Button } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { login } from '../../services/actions/login';\n\nconst LoginPage = () => {\n    const { userLogged } = useSelector(store => ({\n        userLogged: store.login.userLogged\n    }));\n    const dispatch = useDispatch();\n    const [formData, setFormData] = useState({ email: '', password: '' });\n    const onChange = e => {\n        setFormData({ ...formData, [e.target.name]: e.target.value });\n    };\n    const onSubmit = e => {\n        e.preventDefault();\n        if (formData !== { email: '', password: '' }) {\n            dispatch(login(formData));\n        }\n    };\n\n    const passwordRef = useRef(null);\n    const emailRef = useRef(null);\n    useEffect(() => {\n        passwordRef.current.setAttribute(\"autocomplete\", \"current-password\");\n        emailRef.current.setAttribute(\"autocomplete\", \"email\");\n    }, []);\n\n    const [isShowPass, setPass] = useState(false);\n    const onIconClick = () => {\n        setPass(!isShowPass);\n    }\n\n    return (\n        userLogged ? <Redirect to={'/'} /> :\n            <div className={styles.wrapper}>\n                <form className={styles.form} onSubmit={onSubmit}>\n                    <h1 className={styles.heading}>Вход</h1>\n                    <Input ref={emailRef} name=\"email\" type=\"email\" value={formData.email} placeholder=\"E-mail\" onChange={onChange} />\n                    <Input onIconClick={onIconClick} icon={isShowPass ? 'HideIcon' : 'ShowIcon'} ref={passwordRef} name=\"password\" type={isShowPass ? 'text' : 'password'} value={formData.password} placeholder=\"Пароль\" onChange={onChange} />\n                    <span className={styles.button}>\n                        <Button>Войти</Button>\n                    </span>\n                </form>\n                <p className={styles.text}>\n                    Вы — новый пользователь?&nbsp;\n                    <Link className={styles.link} to={'/register'}>\n                        Зарегистрироваться\n                    </Link>\n                </p>\n                <p className={styles.text}>\n                    Забыли пароль?&nbsp;\n                    <Link className={styles.link} to={'/forgot-password'}>\n                        Восстановить пароль\n                    </Link>\n                </p>\n            </div>\n    );\n}\n\nexport default LoginPage;","import React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styles from './modal-overlay.module.css';\n\nimport { useDispatch } from 'react-redux';\nimport { useLocation, useHistory } from 'react-router-dom';\n\nconst ModalOverlay = (props) => {\n    const dispatch = useDispatch();\n    let location = useLocation();\n    const history = useHistory();\n    const node = React.useRef();\n    const modalRoot = document.getElementById('modal');\n\n    const closeWithEscape = (e) => {\n        if (e.keyCode === 27) {\n            if (location.pathname !== '/') {\n                history.goBack();\n            }\n            dispatch({ type: 'CLOSE_MODAL' });\n        }\n        return null;\n    };\n\n    const closeWithClick = (e) => {\n        if (node.current === e.target) {\n            if (location.pathname !== '/') {\n                history.goBack();\n            }\n            dispatch({ type: 'CLOSE_MODAL' });\n        }\n        return null;\n    };\n\n    useEffect(() => {\n        document.body.style.overflow = 'hidden';\n        document.addEventListener(\"keydown\", closeWithEscape, false);\n        return () => {\n            document.body.style.overflow = 'unset';\n            document.removeEventListener(\"keydown\", closeWithEscape, false);\n        };\n    });\n\n    return ReactDOM.createPortal(\n        <div className={styles.overlay} onClick={(e) => { closeWithClick(e) }} ref={node}>\n            {props.children}\n        </div>,\n        modalRoot\n    );\n}\n\nModalOverlay.propTypes = {\n    children: PropTypes.element.isRequired,\n};\n\nexport default ModalOverlay;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './modal.module.css';\nimport { CloseIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport ModalOverlay from '../modal-overlay/modal-overlay';\nimport { useDispatch } from 'react-redux';\nimport { useLocation, useHistory } from 'react-router-dom';\n\nconst Modal = (props) => {\n    let location = useLocation();\n    const history = useHistory();\n    const dispatch = useDispatch();\n    return (\n        <ModalOverlay close={props.close}>\n            <div className={styles.modal}>\n                <button type=\"button\" aria-label=\"Закрыть\" className={styles['modal__close-btn']}\n                    onClick={(e) => {\n                        if (location.pathname !== '/') {\n                            history.goBack();\n                        }\n                        dispatch({ type: 'CLOSE_MODAL' });\n                    }}\n                >\n                    <CloseIcon type=\"primary\" />\n                </button>\n                {props.children}\n            </div>\n        </ModalOverlay>\n    );\n}\n\nModal.propTypes = {\n    children: PropTypes.element.isRequired,\n};\n\nexport default Modal;","export default __webpack_public_path__ + \"static/media/done.dd069a72.svg\";","import styles from './order-details.module.css';\nimport done from '../../images/done.svg';\nimport { useSelector } from 'react-redux';\n\nconst OrderDetails = () => {\n    const { orderDetails } = useSelector(store => ({\n        orderDetails: store.modal.orderDetails\n    }));\n\n    return (\n        <div className={styles.order}>\n            <p className={styles['order__id']}>{orderDetails.order.number}</p>\n            <p className={styles['order__id-text']}>идентификатор заказа</p>\n            <img className={styles['order__done-img']} src={done} alt=\"Готово\" width=\"120\" height=\"120\" />\n            <p className={styles['order__bottom-text']}>Ваш заказ начали готовить</p>\n            <p className={`${styles['order__bottom-text']} ${styles['order__bottom-text--last']}`}>Дождитесь готовности на орбитальной станции</p>\n        </div>\n    );\n}\n\nexport default OrderDetails;","import { apiURL } from '../../utils/constants';\nimport { getCookie } from 'utils/cookie';\n\nexport const ADD_ITEM_TO_ORDER = 'ADD_ITEM_TO_ORDER';\nexport const REMOVE_ITEM_FROM_ORDER = 'REMOVE_ITEM_FROM_ORDER';\nexport const CLEAR_ORDER_ITEMS = 'CLEAR_ORDER_ITEMS';\nexport const ADD_FULL_ORDER_LIST = 'ADD_FULL_ORDER_LIST';\n\nconst sendResource = (url, data) => {\n    return fetch(`${url}`, {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': getCookie('token'),\n        },\n        body: JSON.stringify(data)\n    })\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(`Could not fetch ${url}, received ${response.status}`)\n            };\n            return response.json();\n        })\n        .then((json) => {\n            return json;\n        })\n        .catch((error) => {\n            console.error('Ошибка:', error);\n        });\n};\n\nexport const makeOrder = (sendData) => {\n    return async function (dispatch) {\n        try {\n            const res = await sendResource(`${apiURL}/orders`, { \"ingredients\": sendData });\n            dispatch({ type: 'OPEN_MODAL', orderDetails: res });\n        } catch (err) {\n            console.log(err);\n        }\n    }\n};\n\nexport const dropToCart = (itemId, ingredientsData, orderItems) => {\n    return function (dispatch) {\n        const item = ingredientsData.find(i => i._id === itemId._id);\n        if (item.type === 'bun') {\n            orderItems.map((elem) => {\n                if (elem.type === 'bun') {\n                    dispatch({ type: 'REMOVE_ITEM_FROM_ORDER', orderItems: elem });\n                    dispatch({ type: 'DECREASE_COUNTER', ingredient: elem });\n                    dispatch({ type: 'DECREASE_COUNTER', ingredient: elem });\n                }\n                return null;\n            })\n            dispatch({ type: 'ADD_ITEM_TO_ORDER', orderItems: item });\n            dispatch({ type: 'INCREASE_COUNTER', ingredient: item });\n            dispatch({ type: 'INCREASE_COUNTER', ingredient: item });\n        } else {\n            dispatch({ type: 'ADD_ITEM_TO_ORDER', orderItems: item });\n            dispatch({ type: 'INCREASE_COUNTER', ingredient: item });\n        }\n\n    }\n};\n\nexport const delElem = (elem) => {\n    return function (dispatch) {\n        dispatch({ type: 'REMOVE_ITEM_FROM_ORDER', orderItems: elem });\n        dispatch({ type: 'DECREASE_COUNTER', ingredient: elem });\n    }\n};","import React from 'react';\nimport styles from './burger-constructor.module.css';\nimport { ConstructorElement, CurrencyIcon, DragIcon, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport Modal from '../modal/modal';\nimport OrderDetails from '../order-details/order-details';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useDrop, useDrag } from \"react-dnd\";\nimport { makeOrder, dropToCart, delElem } from '../../services/actions/order';\nimport { useHistory } from 'react-router-dom';\n\nconst GetBurgerElem = ({ elem, index, lock, position, moveIngredient }) => {\n    const dispatch = useDispatch();\n\n    let name = elem.name;\n    if (position === 'top') {\n        name += ' (верх)';\n    } else if (position === 'bottom') {\n        name += ' (низ)';\n    }\n\n    const ref = React.useRef(null);\n\n    const [, drop] = useDrop({\n        accept: 'sort',\n        hover: (item, monitor) => {\n            if (!ref.current) {\n                return;\n            }\n\n            const dragIndex = item.index;\n            const hoverIndex = index;\n\n            if (dragIndex === hoverIndex) {\n                return;\n            }\n\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n            const clientOffset = monitor.getClientOffset();\n            const hoverClientY = clientOffset.y - hoverBoundingRect.top;\n            if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n                return;\n            }\n            if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n                return;\n            }\n\n            moveIngredient(dragIndex, hoverIndex);\n\n            item.index = hoverIndex;\n        }\n    })\n\n    const [{ isDragging }, drag] = useDrag(\n        {\n            type: 'sort',\n            item: () => {\n                return { index };\n            },\n            collect: (monitor) => ({\n                isDragging: monitor.isDragging()\n            })\n\n        }\n    )\n\n    const opacity = isDragging ? 0.5 : 1;\n    drag(drop(ref));\n\n    return (\n        <div ref={ref} className={styles.burger__item} key={index} style={{ opacity }}>\n            {position ? null : <DragIcon type=\"secondary\" />}\n            <ConstructorElement\n                thumbnail={elem.image_mobile}\n                type={position}\n                isLocked={lock}\n                text={name}\n                price={elem.price}\n                handleClose={() => dispatch(delElem(elem))}\n            />\n        </div>\n    );\n};\n\nconst BurgerConstructor = () => {\n    let history = useHistory();\n    const { userLogged } = useSelector(store => ({\n        userLogged: store.login.userLogged\n    }));\n    const dispatch = useDispatch();\n    const { modalIsOpened, modalIsLoading, orderDetails, orderItems, ingredientsData } = useSelector(store => ({\n        modalIsOpened: store.modal.modalIsOpened,\n        modalIsLoading: store.modal.modalIsLoading,\n        orderDetails: store.modal.orderDetails,\n        orderItems: store.order.orderItems,\n        ingredientsData: store.ingredients.ingredientsData\n    }));\n    const [amount, setAmount] = React.useState(0);\n\n    const moveIngredient = (dragIndex, hoverIndex) => {\n        const dragIngredient = orderItems[dragIndex];\n        if (dragIngredient.type === 'bun') {\n            return;\n        }\n        const newOrderItems = [...orderItems];\n        newOrderItems.splice(dragIndex, 1);\n        newOrderItems.splice(hoverIndex, 0, dragIngredient);\n\n        dispatch({ type: 'ADD_FULL_ORDER_LIST', orderItems: newOrderItems });\n    }\n\n    const [{ isDragOver }, dropTarget] = useDrop({\n        accept: \"ingredient\",\n        drop(itemId) {\n            dispatch(dropToCart(itemId, ingredientsData, orderItems));\n        },\n        collect: (monitor) => ({\n            isDragOver: monitor.isOver(),\n        })\n    });\n\n    const border = isDragOver ? '1px dashed #8585AD' : 'none';\n\n    React.useEffect(() => {\n        setAmount(orderItems.reduce((acc, i) => i.type === 'bun' ? acc + (i.price * 2) : acc + i.price, 0));\n    }, [ingredientsData, orderItems]);\n\n    return (\n        <div\n            ref={dropTarget}\n            data-test='dropTarget'\n        >\n            <section className={styles.burger} style={{ border }}>\n                <div>\n                    <div className={styles.burger__head} data-test='container-bun'>\n                        {orderItems.map((elem, index) => elem.type === 'bun' ? <GetBurgerElem key={index} elem={elem} index={index} lock={true} position={'top'} moveIngredient={moveIngredient} /> : null)}\n                    </div>\n                    <div className={styles.burger__list} data-test='container'>\n                        {orderItems.map((elem, index) => elem.type !== 'bun' ? <GetBurgerElem key={index} elem={elem} index={index} lock={false} moveIngredient={moveIngredient} /> : null)}\n                    </div>\n                    <div className={styles.burger__footer} data-test='container-bun'>\n                        {orderItems.map((elem, index) => elem.type === 'bun' ? <GetBurgerElem key={index} elem={elem} index={index} lock={true} position={'bottom'} moveIngredient={moveIngredient} /> : null)}\n                    </div>\n                </div>\n                <div className={styles.burger__order}>\n                    <p className={`${styles.burger__amount} text text_type_main-large`} data-test='burger-price'>\n                        {amount}&nbsp;<CurrencyIcon type=\"primary\" />\n                    </p>\n                    <Button type=\"primary\" size=\"large\" onClick={() => {\n                        if (!userLogged) {\n                            history.push('/login');\n                            return;\n                        }\n                        let { bun, ingredients } = false;\n\n                        orderItems.map((i) => {\n                            if (i.type === 'bun') {\n                                bun = true;\n                            } else if (i.type !== 'bun') {\n                                ingredients = true;\n                            }\n                            return null;\n                        })\n\n                        if (bun && ingredients) {\n                            dispatch(makeOrder(orderItems))\n                            dispatch({\n                                type: 'LOADING_MODAL'\n                            })\n                            dispatch({\n                                type: 'CLEAR_ORDER_ITEMS'\n                            })\n                            dispatch({\n                                type: 'RESET_COUNTER'\n                            })\n                        };\n                    }}>\n                        Оформить заказ\n                    </Button>\n                </div>\n            </section>\n            {(modalIsLoading || modalIsOpened) && orderDetails &&\n                <Modal>\n                    {modalIsLoading ? <p className={styles.loading}>Загрузка...</p> : <OrderDetails />}\n                </Modal>\n            }\n        </div>\n    );\n}\n\nexport default BurgerConstructor;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './burger-ingredient.module.css';\nimport { Counter, CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { useDrag } from \"react-dnd\";\n\nconst BurgerIngredient = React.memo((data) => {\n    const { _id } = data;\n    const [{ isDrag }, dragRef] = useDrag({\n        type: \"ingredient\",\n        item: { _id },\n        collect: monitor => ({\n            isDrag: monitor.isDragging()\n        })\n    });\n\n    return (\n        !isDrag &&\n        <div ref={dragRef}>\n            <button type=\"button\" className={styles.ingredient} >\n                {data.__v !== 0 ? <Counter count={data.__v} size=\"default\" /> : null}\n                <img className={styles.ingredient__image} src={data.image} alt={data.name} />\n                <p className={styles.ingredient__price}>\n                    <span className=\"mr-2\">{data.price}</span>\n                    <CurrencyIcon />\n                </p>\n                <p className={styles.ingredient__name}>\n                    {data.name}\n                </p>\n            </button>\n        </div>\n    );\n});\n\nBurgerIngredient.propTypes = {\n    __v: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired,\n    price: PropTypes.number.isRequired\n};\n\nexport default BurgerIngredient;","import React from 'react';\nimport styles from './burger-ingredients.module.css';\nimport { Tab } from '@ya.praktikum/react-developer-burger-ui-components';\nimport BurgerIngredient from '../burger-ingredient/burger-ingredient.js';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst BurgerIngredients = () => {\n    let location = useLocation();\n    const dispatch = useDispatch();\n    const { ingredientsData, ingredientsRequest, ingredientsFailed } = useSelector(store => ({\n        ingredientsData: store.ingredients.ingredientsData,\n        ingredientsRequest: store.ingredients.ingredientsRequest,\n        ingredientsFailed: store.ingredients.ingredientsFailed\n    }));\n\n    const [current, setCurrent] = React.useState('buns');\n\n    const scrollContainerRef = React.useRef(null);\n    const buns = React.useRef(null);\n    const sauces = React.useRef(null);\n    const toppings = React.useRef(null);\n\n    const scrollOptions = {\n        block: \"start\",\n        behavior: \"smooth\"\n    }\n\n    const scrollTo = (e) => {\n        setCurrent(e);\n        if (e === 'buns') {\n            buns.current.scrollIntoView(scrollOptions);\n        } else if (e === 'sauces') {\n            sauces.current.scrollIntoView(scrollOptions);\n        } else if (e === 'toppings') {\n            toppings.current.scrollIntoView(scrollOptions);\n        };\n    };\n\n    const handleScroll = () => {\n        const scrollContainerPosition = scrollContainerRef.current.getBoundingClientRect().top;\n        const firstHeaderPosition = buns.current.getBoundingClientRect().top;\n        const secondHeaderPosition = sauces.current.getBoundingClientRect().top;\n        const thirdHeaderPosition = toppings.current.getBoundingClientRect().top;\n\n        const firstDiff = Math.abs(scrollContainerPosition - firstHeaderPosition);\n        const secondDiff = Math.abs(scrollContainerPosition - secondHeaderPosition);\n        const thirdDiff = Math.abs(scrollContainerPosition - thirdHeaderPosition);\n\n        if (firstDiff < secondDiff && firstDiff < thirdDiff) {\n            setCurrent('buns')\n        } else if (secondDiff < firstDiff && secondDiff < thirdDiff) {\n            setCurrent('sauces')\n        } else {\n            setCurrent('toppings')\n        }\n    };\n\n    if (ingredientsRequest) {\n        return <p className={null}>Загрузка</p>\n    }\n\n    if (ingredientsFailed) {\n        return <p className={null}>Ошибка, обратитесь к администратору сайта</p>\n    }\n\n    return (\n        <>\n            <section className=\"ingredients\">\n                <div className={styles.ingredients__tabs}>\n                    <Tab value=\"buns\" active={current === 'buns'} onClick={scrollTo}>\n                        Булки\n                    </Tab>\n                    <Tab value=\"sauces\" active={current === 'sauces'} onClick={scrollTo}>\n                        Соусы\n                    </Tab>\n                    <Tab value=\"toppings\" active={current === 'toppings'} onClick={scrollTo}>\n                        Начинки\n                    </Tab>\n                </div>\n                <div className={styles.ingredients__content} ref={scrollContainerRef} onScroll={handleScroll}>\n                    <div className=\"ingredients__wrapper\" ref={buns}>\n                        <h2 className={`${styles.ingredients__head} text text_type_main-medium`}>Булки</h2>\n                        <div className={styles.ingredients__items}>\n                            {ingredientsData.map((data) => {\n                                if (data.type === \"bun\") {\n                                    return (\n                                        <div key={data._id} data-test='ingredient' className={styles['ingredients__item-wrapper']} onClick={() => {\n                                            dispatch({ type: 'OPEN_MODAL', ingredientDetails: data });\n                                        }}>\n                                            <Link key={data._id} to={{\n                                                pathname: `/ingredients/${data._id}`,\n                                                state: { background: location }\n                                            }} style={{ textDecoration: 'none' }}\n                                            >\n                                                <BurgerIngredient {...data} />\n                                            </Link>\n                                        </div>\n                                    )\n                                }\n                                return null;\n                            })}\n                        </div>\n                    </div>\n                    <div className=\"ingredients__wrapper\" ref={sauces}>\n                        <h2 className={`${styles.ingredients__head} text text_type_main-medium`}>Соусы</h2>\n                        <div className={styles.ingredients__items}>\n                            <div className={styles.ingredients__items} >\n                                {ingredientsData.map((data) => {\n                                    if (data.type === \"sauce\") {\n                                        return (\n                                            <div key={data._id} data-test='ingredient' className={styles['ingredients__item-wrapper']} onClick={() => {\n                                                dispatch({ type: 'OPEN_MODAL', ingredientDetails: data });\n                                            }}>\n                                                <Link key={data._id} to={{\n                                                    pathname: `/ingredients/${data._id}`,\n                                                    state: { background: location }\n                                                }} style={{ textDecoration: 'none' }}\n                                                >\n                                                    <BurgerIngredient key={data._id} {...data} />\n                                                </Link>\n                                            </div>\n                                        )\n                                    }\n                                    return null;\n                                })}\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"ingredients__wrapper\" ref={toppings}>\n                        <h2 className={`${styles.ingredients__head} text text_type_main-medium`}>Начинки</h2>\n                        <div className={styles.ingredients__items}>\n                            <div className={styles.ingredients__items} >\n                                {ingredientsData.map((data) => {\n                                    if (data.type === \"main\") {\n                                        return (\n                                            <div key={data._id} data-test='ingredient' className={styles['ingredients__item-wrapper']} onClick={() => {\n                                                dispatch({ type: 'OPEN_MODAL', ingredientDetails: data });\n                                            }}>\n                                                <Link key={data._id} to={{\n                                                    pathname: `/ingredients/${data._id}`,\n                                                    state: { background: location }\n                                                }} style={{ textDecoration: 'none' }}\n                                                >\n                                                    <BurgerIngredient key={data._id} {...data} />\n                                                </Link>\n                                            </div>\n                                        )\n                                    }\n                                    return null;\n                                })}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </section>\n        </>\n    );\n}\n\nexport default BurgerIngredients;","import BurgerConstructor from 'components/burger-constructor/burger-constructor';\nimport BurgerIngredients from 'components/burger-ingredients/burger-ingredients';\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport styles from './main.module.css'\n\nconst MainPage = () => {\n    return (\n        <div className={styles.container}>\n            <h1 className={`${styles.head} text text_type_main-large mt-10 mb-5`}>Собери бургер</h1>\n            <div className={styles.wrapper}>\n                <div className={styles['main__content-items']}>\n                    <DndProvider backend={HTML5Backend}>\n                        <div className={styles['main__content-item']}>\n                            <BurgerIngredients />\n                        </div>\n                        <div className={styles['main__content-item']}>\n                            <BurgerConstructor />\n                        </div>\n                    </DndProvider>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default MainPage;","const NotFoundPage = () => {\n    return (\n        <h1>404 Страница не найдена</h1>\n    );\n}\n\nexport default NotFoundPage;","import React from 'react';\nimport styles from './register.module.css';\nimport { Input, Button } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { Link } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { register } from 'services/actions/login';\nimport { useHistory } from 'react-router-dom';\n\nconst RegPage = () => {\n    const [formData, setFormData] = React.useState({ name: '', email: '', password: '' });\n    const history = useHistory();\n    const onChange = e => {\n        setFormData({ ...formData, [e.target.name]: e.target.value });\n    };\n    const dispatch = useDispatch();\n    const onSubmit = async e => {\n        e.preventDefault();\n        let res = await dispatch(register(formData));\n        if (res.ok) {\n            history.replace('/login');\n        }\n    }\n\n    return (\n        <div className={styles.wrapper}>\n            <form className={styles.form} onSubmit={onSubmit}>\n                <h1 className={styles.heading}>Регистрация</h1>\n                <Input\n                    type=\"text\"\n                    placeholder=\"Имя\"\n                    name=\"name\"\n                    value={formData.name}\n                    onChange={onChange}\n                />\n\n                <Input\n                    type=\"email\"\n                    placeholder=\"Email\"\n                    name=\"email\"\n                    value={formData.email}\n                    onChange={onChange}\n                />\n\n                <Input placeholder=\"Пароль\" name=\"password\" type=\"password\" value={formData.password} onChange={onChange} />\n\n                <span className={styles.button}>\n                    <Button>Зарегистрироваться</Button>\n                </span>\n            </form>\n            <p className={styles.text}>\n                Уже зарегистрированы?&nbsp;\n                <Link className={styles.link} to={'/login'}>\n                    Войти\n                </Link>\n            </p>\n        </div>\n    );\n}\n\nexport default RegPage;","import { useRef, useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport styles from './user-profile.module.css';\nimport { Button, Input } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { updateUser } from '../../services/actions/login';\n\nconst UserProfile = () => {\n    const dispatch = useDispatch();\n    const { name, email } = useSelector(store => ({\n        name: store.login.user.name,\n        email: store.login.user.email\n    }));\n    const [formData, setFormData] = useState({ name: name, email: email, password: '' });\n    const [isChanged, setChanged] = useState(false);\n    const onChange = e => {\n        setFormData({ ...formData, [e.target.name]: e.target.value });\n        if (!isChanged) { setChanged(true) }\n    };\n\n    const onSubmit = (e) => {\n        e.preventDefault()\n        if (formData.name && formData.email) {\n            dispatch(updateUser(formData));\n            setChanged(false);\n        }\n    };\n\n    const onCancel = (e) => {\n        e.preventDefault();\n        setFormData({\n            name: name,\n            email: email,\n            password: ''\n        });\n        setChanged(false);\n    };\n    \n    const passwordRef = useRef(null);\n    const emailRef = useRef(null);\n    const usernameRef = useRef(null);\n\n    useEffect(() => {\n        passwordRef.current.setAttribute(\"autocomplete\", \"current-password\");\n        emailRef.current.setAttribute(\"autocomplete\", \"email\");\n        usernameRef.current.setAttribute(\"autocomplete\", \"username\");\n    }, []);\n\n    return (\n        <form className={styles.user_info} onSubmit={onSubmit}>\n            <Input ref={usernameRef} onChange={onChange} icon={'EditIcon'} name=\"name\" type=\"text\" value={formData.name} placeholder=\"Имя\" />\n            <Input ref={emailRef} onChange={onChange} icon={'EditIcon'} name=\"email\" type=\"email\" value={formData.email} placeholder=\"Логин\" />\n            <Input ref={passwordRef} onChange={onChange} icon={'EditIcon'} name=\"password\" type=\"password\" autocomplete=\"current-password\" value={formData.password} placeholder=\"Пароль\" />\n\n            {isChanged && formData.password !== '' &&\n                <span className={styles.button}>\n                    <Button>Сохранить</Button>\n                    <Button onClick={onCancel} size='medium' type='secondary'>Отмена</Button>\n                </span>\n            }\n        </form>\n    );\n}\n\nexport default UserProfile;","import styles from './profile-nav.module.css';\nimport { useDispatch } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { logout } from '../../services/actions/login';\nimport PropTypes from 'prop-types';\n\nconst ProfileNav = (props) => {\n    const dispatch = useDispatch();\n    const onClick = () => {\n        dispatch(logout());\n    }\n\n    return (\n        <div className={styles.wrapper}>\n            <nav className={styles.nav}>\n                <NavLink to=\"/profile\" className={styles.link} activeClassName={styles.active} exact>\n                    Профиль\n                </NavLink>\n                <NavLink to=\"/profile/orders\" className={styles.link} activeClassName={styles.active}>\n                    История заказов\n                </NavLink>\n                <NavLink to=\"/login\" className={styles.link} onClick={onClick}>\n                    Выход\n                </NavLink>\n            </nav>\n            <p className={styles.text}>\n                {props.children}\n            </p>\n        </div>\n    );\n}\n\nProfileNav.propTypes = {\n    children: PropTypes.string.isRequired,\n};\n\nexport default ProfileNav;","import styles from './profile.module.css';\nimport { useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport UserProfile from 'components/user-profile/user-profile';\nimport { ProfileNav } from 'components/profile-nav';\n\nconst ProfilePage = () => {\n    const { userLogged } = useSelector(store => ({\n        userLogged: store.login.userLogged\n    }));\n\n    return (\n        !userLogged ? <Redirect to={'/login'} /> :\n            <section>\n                <div className={styles.wrapper}>\n                    <ProfileNav>\n                        В этом разделе вы можете изменить свои персональные данные\n                    </ProfileNav>\n                    <UserProfile />\n                </div>\n            </section>\n    );\n}\n\nexport default ProfilePage;","import React from 'react';\nimport styles from './forgot-password.module.css';\nimport { Button, Input } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { Link, Redirect, useHistory, useLocation } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { forgotPassRequest, newPassRequest } from '../../services/api';\n\nconst ForgotPassPage = () => {\n    let history = useHistory();\n    let location = useLocation();\n    const [formData, setFormData] = React.useState({ password: '', token: '' });\n    const [email, setEmail] = React.useState('');\n    const [isVerification, setVerification] = React.useState(false);\n    const [hasError, setHasError] = React.useState(false);\n    const [errorMessage, setErrorMessage] = React.useState('');\n    const [hasSuccess, setHasSuccess] = React.useState(false);\n    const { userLogged } = useSelector(store => ({\n        userLogged: store.login.userLogged\n    }));\n\n    const onChangeEmail = (e) => {\n        setEmail(e.target.value);\n    };\n\n    const onSubmitEmail = (e) => {\n        e.preventDefault();\n        forgotPassRequest(email);\n        setVerification(true);\n        setEmail('');\n        history.push('/reset-password');\n    }\n\n    const onChangePass = (e) => {\n        setFormData({ ...formData, [e.target.name]: e.target.value });\n        setHasError(false);\n    };\n\n    const onSubmitReset = async (e) => {\n        e.preventDefault();\n        const res = await newPassRequest(formData);\n        if(res.success) {\n            setHasSuccess(true);\n            setEmail('');\n        } else {\n            setHasError(true);\n            setErrorMessage(res.message);\n        }\n    }\n\n    const [isShowPass, setPass] = React.useState(false);\n    const onIconClick = () => {\n        setPass(!isShowPass);\n    }\n\n    if (hasSuccess) {\n        return (\n            <Redirect to={{ pathname: '/login' }} />\n        );\n    }\n\n    if (!isVerification && location.pathname === '/reset-password') {\n        return (\n            <Redirect to={{ pathname: '/forgot-password' }} />\n        );\n    }\n\n\n    if (isVerification) {\n        return (\n            <div className={styles.wrapper}>\n                <form className={styles.form} onSubmit={onSubmitReset}>\n                    <h1 className={styles.heading}>Восстановление пароля</h1>\n                    {hasError && <span className={styles.error}>{errorMessage}</span>}\n                    <Input\n                        type={isShowPass ? 'text' : \"password\"}\n                        placeholder=\"Введите новый пароль\"\n                        name=\"password\"\n                        icon={isShowPass ? 'HideIcon' : 'ShowIcon'}\n                        value={formData.password}\n                        onChange={onChangePass}\n                        onIconClick={onIconClick}\n                        error={hasError}\n                        success={hasSuccess}\n                    />\n                    <Input\n                        type=\"text\"\n                        placeholder=\"Введите код из письма\"\n                        name=\"token\"\n                        value={formData.token}\n                        onChange={onChangePass}\n                        error={hasError}\n                        success={hasSuccess}\n                    />\n                    <span className={styles.button}>\n                        <Button>Восстановить</Button>\n                    </span>\n                </form>\n                <p className={styles.text}>\n                    Вспомнили пароль?&nbsp;\n                    <Link className={styles.link} to={'/login'}>\n                        Войти\n                    </Link>\n                </p>\n            </div>\n        )\n    }\n\n    return (\n        userLogged ? <Redirect to={'/'} /> :\n            <div className={styles.wrapper}>\n                <form className={styles.form} onSubmit={onSubmitEmail}>\n                    <h1 className={styles.heading}>Восстановление пароля</h1>\n                    <Input\n                        type=\"email\"\n                        placeholder=\"Укажите e-mail\"\n                        name=\"email\"\n                        value={email}\n                        onChange={onChangeEmail}\n                    />\n                    <span className={styles.button}>\n                        <Button>Восстановить</Button>\n                    </span>\n                </form>\n                <p className={styles.text}>\n                    Вспомнили пароль?&nbsp;\n                    <Link className={styles.link} to={'/login'}>\n                        Войти\n                    </Link>\n                </p>\n            </div>\n    );\n}\n\nexport default ForgotPassPage;","const setDay = (date) => {\n  const today = new Date()\n  date.setHours(0, 0, 0, 0)\n  today.setHours(0, 0, 0, 0)\n  const dayDiff = (today - date) / (24 * 60 * 60 * 1000)\n\n  if (dayDiff === 0) {\n    return 'Сегодня'\n  } else if (dayDiff === 1) {\n    return 'Вчера'\n  } else if (dayDiff > 1 && dayDiff < 5) {\n    return dayDiff + ' дня назад'\n  } else {\n    return dayDiff + ' дней назад'\n  }\n}\n\nfunction resultData(data) {\n    const rowDate = new Date(data);\n    const formattedDate = rowDate.toLocaleString('ru', {\n        hour: '2-digit',\n        minute: '2-digit',\n        timeZoneName: 'short',\n      })\n    return `${setDay(rowDate)}, ${formattedDate}`;\n}\n\nexport default resultData;","import styles from './feed-item.module.css'\nimport { useSelector } from 'react-redux';\nimport { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { Link, useLocation } from 'react-router-dom';\nimport resultData from '../../utils/formate-date';\n\nconst FeedItem = ({ item, link }) => {\n  let location = useLocation();\n  const { ingredientsData } = useSelector(store => ({\n    ingredientsData: store.ingredients.ingredientsData,\n  }));\n\n  const { number, name, status, createdAt, ingredients } = item\n\n  const filteredIngredients = ingredients.map((item) => ingredientsData.find((element) => element._id === item));\n\n  const price = filteredIngredients.reduce((prevValue, item) => prevValue + item.price, 0);\n\n  return (\n    <Link key={number} to={{\n      pathname: `/${link === 'feed' ? 'feed' : 'profile/orders'}/${number}`,\n      state: { background: location }\n    }} style={{ textDecoration: 'none' }}\n    >\n      <article className={styles.order_item} >\n        <header className={styles.header}>\n          <p className={styles.number}>\n            #{number}\n          </p>\n          <time className={styles.time}>\n            {resultData(createdAt)}\n          </time>\n        </header>\n        <h2 className={styles.title}>\n          {name}\n        </h2>\n        <p className={styles.status} style={status === 'done' ? { color: '#00CCCC' } : { color: '#F2F2F3' }}>\n          {status === 'done' ? 'Выполнен' : status === 'canceled' ? 'Отменен' : 'Выполняется'}\n        </p>\n        <div className={styles.list_wrapper}>\n          <ul className={styles.ingredients}>\n            {\n              filteredIngredients.map((item, index) => (\n                index < 5 ?\n                  <li key={index} className={styles.ingredinet}>\n                      {index === 4 && filteredIngredients.length > 5 &&\n                        <span className={styles.more}>\n                          +{filteredIngredients.length - 5}\n                        </span>}\n                      <img className={styles.img} src={item.image_mobile} alt={item.name} />\n                  </li>\n                  : null\n              ))\n            }\n          </ul>\n          <p className={styles.price__wrapper}>\n            <span className={styles.price}>\n              {price}\n            </span>\n            <CurrencyIcon />\n          </p>\n        </div>\n      </article>\n    </Link>\n  );\n}\n\nexport default FeedItem;","export const WS_CONNECTION_SUCCESS = 'WS_CONNECTION_SUCCESS';\nexport const WS_CONNECTION_ERROR = 'WS_CONNECTION_ERROR';\nexport const WS_CONNECTION_CLOSED = 'WS_CONNECTION_CLOSED';\nexport const WS_CONNECTION_START = 'WS_CONNECTION_START';\nexport const WS_CONNECTION_END = 'WS_CONNECTION_END';\nexport const WS_USER_CONNECTION_START = 'WS_USER_CONNECTION_START';\nexport const WS_SEND_MESSAGE = 'WS_SEND_MESSAGE';\nexport const WS_CONNECTION_GET_FEED_ORDERS = 'WS_CONNECTION_GET_FEED_ORDERS';\nexport const WS_CONNECTION_GET_USER_ORDERS = 'WS_CONNECTION_GET_USER_ORDERS';\n\nexport const getFeedOrders = (message) => {\n    return {\n        type: WS_CONNECTION_GET_FEED_ORDERS,\n        payload: message\n    }\n};\n\nexport const getProfileOrders = (message) => {\n    return {\n        type: WS_CONNECTION_GET_USER_ORDERS,\n        payload: message\n    }\n};\n\nexport const wsConnectionSuccess = () => {\n    return {\n        type: WS_CONNECTION_SUCCESS\n    };\n};\n\nexport const wsConnectionError = () => {\n    return {\n        type: WS_CONNECTION_ERROR\n    };\n};\n\nexport const wsConnectionClosed = () => {\n    return {\n        type: WS_CONNECTION_CLOSED\n    };\n};\n\nexport const wsSendMessage = (message) => {\n    return {\n        type: WS_SEND_MESSAGE,\n        payload: message\n    }\n}","import FeedItem from \"../../components/feed-item/feed-item\"\nimport styles from './orders.module.css';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport { ProfileNav } from 'components/profile-nav';\nimport {\n    WS_USER_CONNECTION_START,\n    wsConnectionClosed\n} from '../../services/actions/ws';\n\nconst OrdersPage = () => {\n    const { userLogged, ingredientsRequestSuccess, profileOrders, getOrdersSuccess } = useSelector(store => ({\n        userLogged: store.login.userLogged,\n        ingredientsRequestSuccess: store.ingredients.ingredientsRequestSuccess,\n        profileOrders: store.ws.profileOrders,\n        getOrdersSuccess: store.ws.getOrdersSuccess\n    }));\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch({ type: WS_USER_CONNECTION_START });\n        return () => dispatch(wsConnectionClosed())\n    }, [dispatch]);\n\n    return (\n        !userLogged ? <Redirect to={'/login'} /> :\n            <section>\n                <div className={styles.wrapper}>\n                    <ProfileNav>\n                        В этом разделе вы можете просмотреть свою историю заказов\n                    </ProfileNav>\n                    <ul className={`${styles.main__content} ${styles.main__feed_list}`}>\n                        {ingredientsRequestSuccess && getOrdersSuccess ?\n                            profileOrders?.map((item, index) => (\n                                <li className={styles.list__item} key={index}>\n                                    <FeedItem item={item} link='orders' />\n                                </li>\n                            ))\n                            : null\n                        }\n                    </ul>\n                </div>\n            </section>\n    );\n}\n\nexport default OrdersPage;","import styles from './ingredient-details.module.css';\nimport { useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\n\nconst IngredientDetails = () => {\n    const { ingredientDetails, ingredientsData } = useSelector(store => ({\n        ingredientDetails: store.modal.ingredientDetails,\n        ingredientsData: store.ingredients.ingredientsData\n    }));\n    const { id } = useParams();\n    const currentIngredient = (id ? ingredientsData.find(item => item._id === id) : null) || ingredientDetails;\n\n    return (\n        <div className={styles.details}>\n            <h3 className={styles['details__header']}>Детали ингредиента</h3>\n            <img src={currentIngredient.image_large} alt={currentIngredient.name} width=\"420\" height=\"240\" />\n            <p className={styles['details__name']}>{currentIngredient.name}</p>\n            <ul className={styles['details__list']}>\n                <li className={styles['details__list-item']}>\n                    <p className={styles['details__item-text']}>Калории, ккал</p>\n                    <p className={`${styles['details__item-text']} ${styles['details__item-text--data']}`}>{currentIngredient.calories}</p>\n                </li>\n                <li className={styles['details__list-item']}>\n                    <p className={styles['details__item-text']}>Белки, г</p>\n                    <p className={`${styles['details__item-text']} ${styles['details__item-text--data']}`}>{currentIngredient.proteins}</p>\n                </li>\n                <li className={styles['details__list-item']}>\n                    <p className={styles['details__item-text']}>Жиры, г</p>\n                    <p className={`${styles['details__item-text']} ${styles['details__item-text--data']}`}>{currentIngredient.fat}</p>\n                </li>\n                <li className={styles['details__list-item']}>\n                    <p className={styles['details__item-text']}>Углеводы, г</p>\n                    <p className={`${styles['details__item-text']} ${styles['details__item-text--data']}`}>{currentIngredient.carbohydrates}</p>\n                </li>\n            </ul>\n        </div>\n    );\n}\n\nexport default IngredientDetails;","import IngredientDetails from \"../../components/ingredient-details/ingredient-details\"\n\nconst IngredientPage = () => {\n    return (\n        <IngredientDetails />\n    );\n}\n\nexport default IngredientPage;","import styles from './orders-table.module.css';\nimport { useSelector } from 'react-redux';\n\nconst OrdersTable = () => {\n    const { feedOrders, total, totalToday } = useSelector(store => ({\n        feedOrders: store.ws.feedOrders,\n        total: store.ws.total,\n        totalToday: store.ws.totalToday,\n    }));\n    const doneItems = feedOrders.filter(item => item.status === \"done\")\n    const pendingItems = feedOrders.filter(item => item.status === \"pending\")\n\n    return (\n        <section className={styles.wrapper}>\n            <div className={styles.status_block}>\n                <div className={styles.column}>\n                    <p className=\"text text_type_main-medium mb-6\">\n                        Готовы:\n                    </p>\n                    <ul className={styles.items} style={{ color: '#00CCCC' }}>\n                        {doneItems.map((item, index) => {\n                            if (index < 10) {\n                                return <li className=\"text text_type_digits-default mb-2\" key={item._id} >{item.number}</li>\n                            }\n                            return null;\n                        }\n                        )}\n                    </ul>\n                </div>\n                <div className={styles.column}>\n                    <p className=\"text text_type_main-medium\">\n                        В работе:\n                    </p>\n                    <ul className={styles.items}>\n                        {pendingItems.map((item, index) => {\n                            if (index < 10) {\n                                return <li className=\"text text_type_digits-default mb-2\" key={item._id} >{item.number}</li>\n                            }\n                            return null;\n                        }\n                        )}\n                    </ul>\n                </div>\n            </div>\n            <div className={styles.total_block}>\n                <p className=\"text text_type_main-medium\">\n                    Выполнено за все время:\n                </p>\n                <p className={`${styles.total} text text_type_digits-large`}>\n                    {total}\n                </p>\n            </div>\n            <div className={styles.total_block}>\n                <p className='text text_type_main-medium'>\n                    Выполнено за сегодня:\n                </p>\n                <p className={`${styles.total} text text_type_digits-large`}>\n                    {totalToday}\n                </p>\n            </div>\n        </section>\n    )\n};\n\nexport default OrdersTable;","import { useEffect } from 'react';\nimport styles from './feed.module.css'\nimport FeedItem from 'components/feed-item/feed-item';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n    WS_CONNECTION_START,\n    wsConnectionClosed\n} from '../../services/actions/ws';\nimport OrdersTable from 'components/orders-table/orders-table';\n\nconst FeedPage = () => {\n    const { ingredientsRequestSuccess, feedOrders } = useSelector(store => ({\n        ingredientsRequestSuccess: store.ingredients.ingredientsRequestSuccess,\n        feedOrders: store.ws.feedOrders,\n    }));\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch({ type: WS_CONNECTION_START });\n        return () => dispatch(wsConnectionClosed());\n    }, [dispatch]);\n\n    return (\n        <div className={styles.container}>\n            <h1 className={styles.head}>Лента заказов</h1>\n            <div className={styles.wrapper}>\n                <div className={styles.main__contents}>\n                    {ingredientsRequestSuccess &&\n                        <>\n                            <ul className={`${styles.main__content} ${styles.main__feed_list}`}>\n                                {feedOrders.map((item, index) => (\n                                    <li className={styles.list__item} key={index}>\n                                        <FeedItem item={item} link='feed' />\n                                    </li>\n                                ))}\n                            </ul>\n                            <div className={styles.main__content}>\n                                <OrdersTable />\n                            </div>\n                        </>\n                    }\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default FeedPage;","import { useParams } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { CurrencyIcon } from '@ya.praktikum/react-developer-burger-ui-components';\nimport styles from './order-info.module.css';\nimport resultData from '../../utils/formate-date';\nimport { Link, useLocation, useHistory } from 'react-router-dom';\n\nconst OrderInfo = () => {\n    let location = useLocation();\n    const history = useHistory();\n    let background = history.action === 'PUSH' && location.state && location.state.background;\n\n    const { ingredientsRequestSuccess, ingredientsData, feedOrders, profileOrders  } = useSelector(store => ({\n        ingredientsRequestSuccess: store.ingredients.ingredientsRequestSuccess,\n        ingredientsData: store.ingredients.ingredientsData,\n        feedOrders: store.ws.feedOrders,\n        profileOrders: store.ws.profileOrders,\n    }));\n\n    const { id } = useParams();\n    const currentItem  = feedOrders.find(i => i.number === parseInt(id)) || profileOrders.find(i => i.number === parseInt(id));\n    const filteredIngredients = currentItem.ingredients.map((item) => ingredientsData.find((element) => element._id === item));\n    const price = ingredientsRequestSuccess && filteredIngredients.reduce((prevValue, item) => {\n        if (item.type === 'bun') {\n            return prevValue + (item.price * 2)\n        }\n        return prevValue + item.price\n    }, 0);\n\n    return (\n        ingredientsRequestSuccess &&\n        <div className={styles.wrapper}>\n            <p className={styles.number}>\n                #{currentItem.number}\n            </p>\n            <p className={styles.name}>\n                {currentItem.name}\n            </p>\n            <p className={styles.status} style={currentItem.status === 'done' ? { color: '#00CCCC' } : { color: '#F2F2F3' }}>\n                {currentItem.status === 'done' ? 'Выполнен' : currentItem.status === 'canceled' ? 'Отменен' : 'Выполняется'}\n            </p>\n            <p className={styles.compound}>\n                Состав:\n            </p>\n            <ul className={styles.ingredients}>\n                {\n                    filteredIngredients.map((item, index) => (\n                        <li key={index} className={styles.ingredient_item}>\n                            <Link to={{\n                                pathname: `/ingredients/${item._id}`,\n                                state: { background: location }\n                            }} style={{ textDecoration: 'none' }}\n                            target={background ? \"_blank\" : \"_self\"} rel=\"noopener noreferrer\"\n                            className={styles.ingredient_link}\n                            >\n                                <img className={styles.ingredient_img} src={item.image_mobile} alt={item.name} />\n                                <p className={styles.ingredient_name}>\n                                    {item.name}\n                                </p>\n                                <p className={styles.price_wrapper} >\n                                    <span className={styles.price} >\n                                        {item.type === 'bun' ? `2\\u00A0x\\u00A0${item.price}` : `1\\u00A0x\\u00A0${item.price}`}\n                                    </span>\n                                    <CurrencyIcon />\n                                </p>\n                            </Link>\n                        </li>\n                    ))\n                }\n            </ul>\n            <div className={styles.footer}>\n                <time className={styles.time}>\n                    {resultData(currentItem.createdAt)}\n                </time>\n                <p className={styles.price_wrapper} >\n                    <span className={styles.price} >\n                        {price}\n                    </span>\n                    <CurrencyIcon />\n                </p>\n            </div>\n        </div>\n    );\n}\n\nexport default OrderInfo;","import OrderInfo from \"components/order-info/order-info\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useEffect } from 'react';\nimport {\n    WS_CONNECTION_START,\n    wsConnectionClosed\n} from '../../services/actions/ws'\n\nconst OrderPage = () => {\n    const { ingredientsRequestSuccess, getOrdersSuccess  } = useSelector(store => ({\n        ingredientsRequestSuccess: store.ingredients.ingredientsRequestSuccess,\n        getOrdersSuccess: store.ws.getOrdersSuccess,\n    }));\n\n    const dispatch = useDispatch();\n\n    useEffect(()=> {\n        dispatch({type: WS_CONNECTION_START});\n        return () => dispatch(wsConnectionClosed());\n    }, [dispatch]);\n\n    return (\n        ingredientsRequestSuccess && getOrdersSuccess && <OrderInfo/>\n    );\n}\n\nexport default OrderPage;","import { apiURL } from '../../utils/constants';\n\nexport const GET_INGREDIENTS = 'GET_INGREDIENTS';\nexport const GET_INGREDIENTS_FAILED = 'GET_INGREDIENTS_FAILED';\nexport const GET_INGREDIENTS_SUCCESS = 'GET_INGREDIENTS_SUCCESS';\nexport const INCREASE_COUNTER = 'INCREASE_COUNTER';\nexport const DECREASE_COUNTER = 'DECREASE_COUNTER';\nexport const RESET_COUNTER = 'RESET_COUNTER';\n\nexport function getIngredients() {\n    return function (dispatch) {\n        dispatch({\n            type: GET_INGREDIENTS\n        })\n        fetch(`${apiURL}/ingredients`).then(res => {\n            if (res && res.ok) {\n                return res.json();\n            } else {\n                dispatch({\n                    type: GET_INGREDIENTS_FAILED\n                })\n                return res.json();\n            }\n        }).then((json) => {\n            dispatch({\n                type: GET_INGREDIENTS_SUCCESS,\n                ingredientsData: json.data\n            })\n            return json;\n        }).catch(err => {\n            dispatch({\n                type: GET_INGREDIENTS_FAILED\n            })\n            return err;\n        })\n    }\n}","import styles from './app.module.css';\nimport AppHeader from '../app-header/app-header';\nimport { Route, Switch, useLocation, useHistory } from 'react-router-dom';\nimport ProtectedRoute from '../protected-route/protected-route';\nimport LoggedRoute from '../logged-route/logged-route';\nimport {\n  LoginPage,\n  MainPage,\n  NotFoundPage,\n  RegPage,\n  ProfilePage,\n  IngredientPage,\n  ForgotPassPage,\n  OrdersPage,\n  FeedPage,\n  OrderPage\n} from '../../pages';\n\nimport { useEffect } from 'react';\nimport { getUser } from '../../services/actions/login';\nimport { useDispatch } from 'react-redux';\nimport { getIngredients } from '../../services/actions/ingredients';\nimport Modal from '../modal/modal';\nimport IngredientDetails from '../ingredient-details/ingredient-details';\nimport OrderInfo from '../order-info/order-info'\n\nfunction App() {\n  const dispatch = useDispatch();\n  let location = useLocation();\n  const history = useHistory();\n  let background = history.action === 'PUSH' && location.state && location.state.background;\n\n  useEffect(() => {\n    dispatch(getUser());\n    dispatch(getIngredients());\n  }, [dispatch]);\n\n  return (\n    <div className=\"app\">\n      <AppHeader />\n      <main className={styles.main}>\n        <Switch location={background || location}>\n          <LoggedRoute path=\"/login\" exact>\n            <LoginPage />\n          </LoggedRoute>\n          <LoggedRoute path=\"/register\" exact>\n            <RegPage />\n          </LoggedRoute>\n          <LoggedRoute path=\"/forgot-password\" exact>\n            <ForgotPassPage />\n          </LoggedRoute>\n          <LoggedRoute path=\"/reset-password\" exact>\n            <ForgotPassPage />\n          </LoggedRoute>\n          <ProtectedRoute path=\"/profile\" exact>\n            <ProfilePage />\n          </ProtectedRoute>\n          <ProtectedRoute path=\"/profile/orders\" exact>\n            <OrdersPage />\n          </ProtectedRoute>\n          <ProtectedRoute path=\"/profile/orders/:id\" exact>\n            <OrderPage />\n          </ProtectedRoute>\n          <Route path=\"/ingredients/:id\" exact>\n            <IngredientPage />\n          </Route>\n          <Route path=\"/feed/:id\" exact>\n            <OrderPage />\n          </Route>\n          <Route path=\"/feed\" exact>\n            <FeedPage />\n          </Route>\n          <Route path=\"/\" exact>\n            <MainPage />\n          </Route>\n          <Route>\n            <NotFoundPage />\n          </Route>\n        </Switch>\n\n        {background && (\n          <Route path='/ingredients/:id' children={\n            <Modal>\n              <IngredientDetails />\n            </Modal>\n          } />\n        )}\n\n        {background && (\n          <Route path='/feed/:id' children={\n            <Modal>\n              <OrderInfo />\n            </Modal>\n          } />\n        )}\n\n        {background && (\n          <ProtectedRoute path='/profile/orders/:id' children={\n            <Modal>\n              <OrderInfo />\n            </Modal>\n          } />\n        )}\n      </main>\n    </div >\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\n    GET_INGREDIENTS,\n    GET_INGREDIENTS_FAILED,\n    GET_INGREDIENTS_SUCCESS,\n    INCREASE_COUNTER,\n    DECREASE_COUNTER,\n    RESET_COUNTER\n} from '../actions/ingredients';\n\nconst initialState = {\n    ingredientsRequest: false,\n    ingredientsRequestSuccess: false,\n    ingredientsFailed: false,\n    ingredientsData: []\n}\n\nconst resetCounters = (data) => {\n    return data.map((item) => {\n        item.__v = 0;\n        return item\n    });\n};\n\nconst changeCounter = (data, elem, option) => {\n    return data.map((item) => {\n        if (elem._id === item._id) {\n            option === 'plus' ? item.__v += 1 : item.__v -= 1;\n        }\n        return item;\n    });\n};\n\nexport const ingredientsReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case GET_INGREDIENTS: {\n            return {\n                ...state,\n                ingredientsRequest: true,\n                ingredientsFailed: false,\n                ingredientsRequestSuccess: false\n            };\n        }\n        case GET_INGREDIENTS_SUCCESS: {\n            return {\n                ...state,\n                ingredientsData: action.ingredientsData,\n                ingredientsRequest: false,\n                ingredientsRequestSuccess: true\n            };\n        }\n        case GET_INGREDIENTS_FAILED: {\n            return {\n                ...state,\n                ingredientsFailed: true,\n                ingredientsRequest: false,\n                ingredientsRequestSuccess: false\n            };\n        }\n        case INCREASE_COUNTER: {\n            return {\n                ...state,\n                ingredientsData: changeCounter(state.ingredientsData, action.ingredient, 'plus'),\n            };\n        }\n        case DECREASE_COUNTER: {\n            return {\n                ...state,\n                ingredientsData: changeCounter(state.ingredientsData, action.ingredient, 'minus'),\n            };\n        }\n        case RESET_COUNTER: {\n            return {\n                ...state,\n                ingredientsData: resetCounters(state.ingredientsData)\n            };\n        }\n        default: {\n            return state\n        }\n    }\n}","export const OPEN_MODAL = 'OPEN_MODAL';\nexport const CLOSE_MODAL = 'CLOSE_MODAL';\nexport const LOADING_MODAL = 'LOADING_MODAL';","import { \n    OPEN_MODAL, \n    LOADING_MODAL, \n    CLOSE_MODAL \n} from '../actions/modal';\n\nconst initialState = {\n    modalIsOpened: false,\n    modalIsLoading: false,\n    ingredientDetails: {},\n    orderDetails: {},\n}\n\nexport const modalReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case OPEN_MODAL: {\n            return {\n                ...state,\n                modalIsOpened: true,\n                modalIsLoading: false,\n                ingredientDetails: action.ingredientDetails ? action.ingredientDetails : undefined,\n                orderDetails: action.orderDetails ? action.orderDetails : undefined,\n            };\n        }\n        case LOADING_MODAL: {\n            return {\n                ...state,\n                modalIsLoading: true\n            };\n        }\n        case CLOSE_MODAL: {\n            return {\n                ...state,\n                modalIsOpened: false,\n                modalIsLoading: false,\n                ingredientDetails: {},\n            };\n        }\n        default: {\n            return state\n        }\n    }\n}","import {\n    ADD_ITEM_TO_ORDER,\n    REMOVE_ITEM_FROM_ORDER,\n    CLEAR_ORDER_ITEMS,\n    ADD_FULL_ORDER_LIST\n} from '../actions/order';\n\nconst initialState = {\n    orderItems: []\n}\n\nexport const orderReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_ITEM_TO_ORDER: {\n            return {\n                orderItems: [...state.orderItems, action.orderItems],\n            };\n        }\n        case REMOVE_ITEM_FROM_ORDER: {\n            const removeItemOnce = (arr, value) => {\n                const index = arr.indexOf(value);\n                if (index > -1) {\n                    arr.splice(index, 1);\n                }\n                return arr;\n            }\n            return {\n                orderItems: removeItemOnce(state.orderItems, action.orderItems),\n            };\n        }\n        case CLEAR_ORDER_ITEMS: {\n            return {\n                orderItems: []\n            };\n        }\n        case ADD_FULL_ORDER_LIST: {\n            return {\n                ...state,\n                orderItems: action.orderItems\n            };\n        }\n        default: {\n            return state\n        }\n    }\n}","import { \n    LOGIN_USER, \n    LOGOUT_USER \n} from '../actions/login';\n\nconst initialState = {\n    userLogged: false,\n    user: {\n        name: '',\n        email: '',\n    }\n}\n\nexport const loginReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case LOGIN_USER: {\n            return {\n                ...state,\n                userLogged: true,\n                user: {\n                    name: action.name,\n                    email: action.email\n                }\n            };\n        }\n        case LOGOUT_USER: {\n            return {\n                ...state,\n                userLogged: false,\n                user: {\n                    name: '',\n                    email: '',\n                }\n            };\n        }\n        default: {\n            return state\n        }\n    }\n}","import {\n    WS_CONNECTION_SUCCESS,\n    WS_CONNECTION_ERROR,\n    WS_CONNECTION_CLOSED,\n    WS_CONNECTION_GET_FEED_ORDERS,\n    WS_CONNECTION_GET_USER_ORDERS\n} from '../actions/ws';\n\nexport const sortingByDate = (a, b) => {\n    return new Date(b.createdAt) - new Date(a.createdAt);\n}\n\nexport const initialState = {\n    wsConnected: false,\n    getOrdersSuccess: false,\n    feedOrders: [],\n    profileOrders: [],\n    total: null,\n    totalToday: null,\n};\n\nexport const wsReducer = ( state=initialState, action ) => {\n    switch(action.type) {\n        case  WS_CONNECTION_SUCCESS: {\n            return {\n                ...state,\n                wsConnected: true,\n                getOrdersSuccess: false,\n            }\n        }\n        case WS_CONNECTION_ERROR: {\n            return {\n                initialState\n            };\n        }\n        case WS_CONNECTION_CLOSED: {\n            return {\n                ...state,\n                wsConnected: false,\n                getOrdersSuccess: false,\n            };\n        }\n        case WS_CONNECTION_GET_FEED_ORDERS: {\n            return {\n                ...state,\n                feedOrders: action.payload.orders?.sort(sortingByDate),\n                total: action.payload.total,\n                totalToday: action.payload.totalToday,\n                getOrdersSuccess: true,\n            }\n        }\n        case WS_CONNECTION_GET_USER_ORDERS: {\n            return {\n                ...state,\n                profileOrders: action.payload.orders?.sort(sortingByDate),\n                total: action.payload.total,\n                totalToday: action.payload.totalToday,\n                getOrdersSuccess: true,\n            }\n        }\n        default: {\n            return state;\n        }\n    }\n}","import { combineReducers } from 'redux';\nimport { ingredientsReducer } from './ingredients';\nimport { modalReducer } from './modal';\nimport { orderReducer } from './order';\nimport { loginReducer } from './login';\nimport { wsReducer } from './ws';\n\nexport const rootReducer = combineReducers({\n    ingredients: ingredientsReducer,\n    modal: modalReducer,\n    order: orderReducer,\n    login: loginReducer,\n    ws: wsReducer\n})","import { getCookie } from \"../../utils/cookie\";\nexport const wsMiddleware = (url, actions, token = false) => {\n    return store => {\n\n        let socket = null;\n\n        return next => action => {\n            const { dispatch } = store;\n\n            const { type, payload } = action;\n\n            const {\n                wsInit,\n                wsInitProfile,\n                wsSendMessage,\n                onOpen,\n                onClose,\n                onError,\n                getFeedOrders,\n                getProfileOrders\n            } = actions;\n\n            const accessToken = getCookie('token')?.split('Bearer ')[1];\n\n            if (type === wsInitProfile && accessToken && token) {\n                socket = new WebSocket(`${url}?token=${accessToken}`);\n            }\n            if (type === wsInit && !token) {\n                socket = new WebSocket(`${url}`);\n            }\n            if (socket) {\n                socket.onopen = event => {\n                    dispatch({ type: onOpen, payload: event });\n                }\n\n                socket.onerror = event => {\n                    dispatch({ type: onError, payload: event });\n                }\n\n                socket.onmessage = event => {\n                    const { data } = event;\n                    const parsedData = JSON.parse(data);\n                    const { success, ...restParsedData } = parsedData;\n\n                    if (token) {\n                        dispatch({\n                            type: getProfileOrders,\n                            payload: restParsedData\n                        });\n                    }\n                    if (!token) {\n                        dispatch({\n                            type: getFeedOrders,\n                            payload: restParsedData\n                        });\n                    }\n                }\n\n                socket.onclose = event => {\n                    dispatch({ type: onClose, payload: event });\n                };\n\n                if (type === wsSendMessage && accessToken) {\n                    const message = { payload, token: accessToken };\n                    socket.send(JSON.stringify(message))\n                }\n            }\n\n            next(action);\n        }\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/app';\nimport reportWebVitals from './reportWebVitals';\nimport { createStore, applyMiddleware } from 'redux';\nimport { Provider } from 'react-redux';\nimport { rootReducer } from './services/reducers';\nimport thunk from 'redux-thunk';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { wsMiddleware } from './services/middleware/ws-middleware';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nimport {\n  WS_CONNECTION_CLOSED,\n  WS_CONNECTION_ERROR,\n  WS_CONNECTION_START,\n  WS_USER_CONNECTION_START,\n  WS_CONNECTION_SUCCESS,\n  WS_CONNECTION_GET_FEED_ORDERS,\n  WS_CONNECTION_GET_USER_ORDERS,\n  WS_SEND_MESSAGE\n} from './services/actions/ws';\n\nimport { wsUrl } from 'utils/constants';\nimport { wsUserUrl } from 'utils/constants';\n\nconst wsActions = {\n  wsInit: WS_CONNECTION_START,\n  wsInitProfile: WS_USER_CONNECTION_START,\n  wsSendMessage: WS_SEND_MESSAGE,\n  onOpen: WS_CONNECTION_SUCCESS,\n  onClose: WS_CONNECTION_CLOSED,\n  onError: WS_CONNECTION_ERROR,\n  getFeedOrders: WS_CONNECTION_GET_FEED_ORDERS,\n  getProfileOrders: WS_CONNECTION_GET_USER_ORDERS,\n};\n\nconst wsFeedOrdersMiddleware = wsMiddleware(wsUrl, wsActions);\nconst wsProfileOrdersMiddleware = wsMiddleware(wsUserUrl, wsActions, true)\n\nconst enhancer = composeWithDevTools(applyMiddleware(\n  thunk,\n  wsFeedOrdersMiddleware,\n  wsProfileOrdersMiddleware\n));\nconst store = createStore(rootReducer, enhancer);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"app-header_header__1iHLW\",\"header__nav\":\"app-header_header__nav__1wJFs\",\"header__nav-item\":\"app-header_header__nav-item__15QFS mr-2\",\"header__nav-item--active\":\"app-header_header__nav-item--active__3BSos\",\"header__nav-item--logo\":\"app-header_header__nav-item--logo__3LIEK\",\"header__logo-mobile\":\"app-header_header__logo-mobile__2dIH1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"orders-table_wrapper__2JA0q\",\"status_block\":\"orders-table_status_block__30IsW\",\"total\":\"orders-table_total__2C3D6\",\"column\":\"orders-table_column__9tY49\",\"items\":\"orders-table_items__37aJf\",\"total_block\":\"orders-table_total_block__3EyHv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"login_wrapper__1qEM9\",\"form\":\"login_form__3DD6c mb-20\",\"heading\":\"login_heading__2cWSn mb-6\",\"input_container\":\"login_input_container__20Fyv pl-6 pr-6 mb-6\",\"input_control\":\"login_input_control__29gtM pl-6\",\"button\":\"login_button__1W8bK\",\"text\":\"login_text__3nYhP text text_type_main-default mb-4\",\"link\":\"login_link__2bcVJ\",\"error\":\"login_error__2R0VM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger__head\":\"burger-constructor_burger__head__bBZGH mb-4 pr-2\",\"burger__item\":\"burger-constructor_burger__item__3MML1 ml-2\",\"burger__footer\":\"burger-constructor_burger__footer__20HmM mt-4 pr-2\",\"burger__list\":\"burger-constructor_burger__list__-z5Dh\",\"burger__order\":\"burger-constructor_burger__order__1c4xB pr-2 mt-10 mb-10\",\"burger__amount\":\"burger-constructor_burger__amount__3ElCz mr-10\",\"loading\":\"burger-constructor_loading__1N9Tr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"profile-nav_wrapper__Nxcw5 mr-15\",\"nav\":\"profile-nav_nav__2gyI3 text text_type_main-medium mb-20\",\"link\":\"profile-nav_link__w_RXu\",\"active\":\"profile-nav_active__1TBx4\",\"text\":\"profile-nav_text__wDH3k text text_type_main-default\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"head\":\"feed_head__2x9Z0 text text_type_main-large mt-10 mb-10\",\"main__contents\":\"feed_main__contents__vUSRR\",\"main__content\":\"feed_main__content__omdPX\",\"main__feed_list\":\"feed_main__feed_list__2MZK1\",\"list__item\":\"feed_list__item__2axlU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"order\":\"order-details_order__12ZdD pt-30 pb-30\",\"order__id\":\"order-details_order__id__2hlBv text text_type_digits-large mb-8\",\"order__id-text\":\"order-details_order__id-text__2S1FV text text_type_main-default\",\"order__done-img\":\"order-details_order__done-img__3mO0g mt-15 mb-15\",\"order__bottom-text\":\"order-details_order__bottom-text__3lBPQ text text_type_main-default\",\"order__bottom-text--last\":\"order-details_order__bottom-text--last__1cxb0 mt-2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main__content-items\":\"main_main__content-items__1fQr1\",\"main__content-item\":\"main_main__content-item__3hXm3\",\"main__loading\":\"main_main__loading__1BXx7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"register_wrapper__29oUW\",\"form\":\"register_form__16uRP mb-20\",\"heading\":\"register_heading__2cg5G mb-6\",\"button\":\"register_button__2v5ip\",\"text\":\"register_text__2d3To text text_type_main-default mb-4\",\"link\":\"register_link__2XLtm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient\":\"burger-ingredient_ingredient__3hiRO mt-6 mb-10 pr-3 pl-3\",\"ingredient__image\":\"burger-ingredient_ingredient__image__vx_bN ml-4 mr-4 mb-1\",\"ingredient__price\":\"burger-ingredient_ingredient__price__Zb6Pu text_type_main-medium text mb-1\",\"ingredient__name\":\"burger-ingredient_ingredient__name__1XA3f text_type_main-default text\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"orders_wrapper__Qws8v\",\"main__content\":\"orders_main__content__3C4b4\",\"main__feed_list\":\"orders_main__feed_list__3ViDk\",\"main__loading\":\"orders_main__loading__3w364\",\"list__item\":\"orders_list__item__3ZGm8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1DF1f\",\"modal__close-btn\":\"modal_modal__close-btn__1tiJz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user_info\":\"user-profile_user_info__38MHQ ml-15\"};"],"sourceRoot":""}